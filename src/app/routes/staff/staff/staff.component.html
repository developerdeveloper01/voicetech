<page-header class="bg-blue-600"></page-header>

<section>
  <div class="row">
    <div class="col-lg-12">
      <mat-card *ngIf="toggleeditstaff" style="box-shadow: 2px 4px 14px rgb(0 0 0 / 28%);">
        <!-- <mat-card-title>Add Staff</mat-card-title> -->
        <fieldset style="padding: 20px;border-radius: 4px;">
        <legend style="font-size: 20px;">Add Staff</legend>
        <form class="form-field-full" [formGroup]="addstaffform" (ngSubmit)="submitstaffForm()">
          <div fxLayout="row wrap" fxLayoutGap="8px grid">

            <div fxFlex="50" fxFlex.lt-sm="100">
              <mat-form-field>
                <mat-label>First Name</mat-label>
                <input type="text" matInput placeholder="First Name" formControlName="firstname"
                       required>
                <mat-error>
                  {{'validations.required' | translate}}
                </mat-error>
              </mat-form-field>
            </div>

            <div fxFlex="50" fxFlex.lt-sm="100">
              <mat-form-field>
                <mat-label>Last Name</mat-label>
                <input type="text" matInput placeholder="Last Name" formControlName="lastname"
                       required>
                <mat-error>
                  {{'validations.required' | translate}}
                </mat-error>
              </mat-form-field>
            </div>


            <div fxFlex="100" fxFlex.lt-sm="100">
              <mat-form-field>
                <mat-label>Email</mat-label>
                <input type="text" matInput placeholder="Email" formControlName="email"
                       required>
                <mat-error>
                  {{'validations.required' | translate}}
                </mat-error>
              </mat-form-field>
            </div>

            <div fxFlex="100" fxFlex.lt-sm="100">
              <mat-form-field>
                <mat-label>Mobile</mat-label>
                <input type="number" matInput placeholder="Mobile" formControlName="mobile"
                       required>
                <mat-error>
                  {{'validations.required' | translate}}
                </mat-error>
              </mat-form-field>
            </div>


            <div fxFlex="100" fxFlex.lt-sm="100">
              <mat-form-field>
                <mat-label>Password</mat-label>
                <input type="password" matInput placeholder="Password" formControlName="password"
                       required>
                <mat-error>
                  {{'validations.required' | translate}}
                </mat-error>
              </mat-form-field>
            </div>

            <div fxFlex="50" fxFlex.lt-sm="100">
              <mat-form-field>
                <mat-label>Select Role</mat-label>
                <mat-select formControlName="role" required>
                  <mat-option *ngFor="let role of allroles" [value]="role._id">
                    {{role?.name}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>


            <div fxFlex="50" fxFlex.lt-sm="100">
              <mat-checkbox class="st-chk" [value]="falseValue"
                            (change)="checkboxChange($event.source, $event.checked)"
                            formControlName="approvedstatus">Approve
              </mat-checkbox>
            </div>
          </div>

          <button mat-raised-button color="primary" class="m-t-8" type="submit">Save</button>
          <button mat-raised-button color="primary" class="m-t-8 m-l-4"
                  (click)="editstaffchk()">Edit</button>

        </form>
      </fieldset>
      </mat-card>
      <!-- editform -->
      <mat-card *ngIf="!toggleeditstaff" style="box-shadow: 2px 4px 14px rgb(0 0 0 / 28%);">
        <!-- <mat-card-title>Edit</mat-card-title> -->
        <fieldset style="padding: 20px; border-radius: 4px;">
        <legend style="font-size: 20px;">Edit</legend>
        <form class="form-field-full">
          <div fxLayout="row wrap" fxLayoutGap="8px grid">

            <div fxFlex="50" fxFlex.lt-sm="100">
              <mat-form-field>
                <mat-label>Title</mat-label>
                <input matInput placeholder="Simple placeholder" formControlName="name"
                       required>
                <mat-error>
                  {{'validations.required' | translate}}
                </mat-error>
              </mat-form-field>
            </div>

            <div fxFlex="100" fxFlex.lt-sm="100">
              <mat-checkbox value='true' class="st-chk">Read Service</mat-checkbox>
              <mat-checkbox value='true' class="st-chk">Write Service</mat-checkbox>
              <mat-checkbox value='true' class="st-chk">Read Products</mat-checkbox>
              <mat-checkbox value='true' class="st-chk">Write Products
              </mat-checkbox>
              <mat-checkbox value='true' class="st-chk">Read Calls</mat-checkbox>
              <mat-checkbox value='true' class="st-chk">Write Calls</mat-checkbox>
            </div>
          </div>

          <button mat-raised-button color="primary" class="m-t-8">Update</button>
        </form>
        </fieldset>

      </mat-card>
      <!-- editform close -->
    </div>

    <div class="col-lg-12">
      <mtx-grid class="mat-elevation-z8 r-4" [data]="list"
                [columns]="columns"
                [loading]="isLoading"
                [columnResizable]="columnResizable"
                [multiSelectable]="multiSelectable"
                [rowSelectable]="rowSelectable"
                [hideRowSelectionCheckbox]="hideRowSelectionCheckbox"
                [rowHover]="rowHover"
                [rowStriped]="rowStriped"
                [showToolbar]="showToolbar"
                [toolbarTitle]="'Staff'"
                [columnHideable]="columnHideable"
                [columnMovable]="columnMovable"
                [expandable]="expandable"
                [expansionTemplate]="expansionTpl"
                [pageOnFront]="showPaginator"
                [showPaginator]="showPaginator"
                [pageSizeOptions]="[5,10,50,100]"
                [pageIndex]="0"
                [pageSize]="5"
                (sortChange)="changeSort($event)"
                (selectionChange)="changeSelect($event)">
      </mtx-grid>
      <ng-template #expansionTpl let-row>
        {{row.name}}
      </ng-template>
    </div>


  </div>
</section>
