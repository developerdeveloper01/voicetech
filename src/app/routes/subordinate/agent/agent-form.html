<h2 mat-dialog-title>{{editmode?"Edit Agent":"Create Agent"}}</h2>
<form [formGroup]="addagentform" (ngSubmit)="submituserform()">
  <mat-dialog-content>
    <div fxLayout="row wrap" fxLayoutGap="8px grid" >
      <div fxFlex="50" fxFlex.lt-sm="100">
        <mat-form-field class="demo-full-width">
          <mat-label>First Name</mat-label>
          <input type="text" matInput placeholder="John" formControlName="firstname" required />
          <mat-error *ngIf="addagentform.get('firstname').invalid">
            {{'validations.required'| translate}}
          </mat-error>
        </mat-form-field>
      </div>
      <div fxFlex="50" fxFlex.lt-sm="100">
        <mat-form-field class="demo-full-width">
          <mat-label>Last Name</mat-label>
          <input type="text" matInput placeholder="Deo" formControlName="lastname" required />
          <mat-error *ngIf="addagentform.get('lastname').invalid">
            {{'validations.required'| translate}}
          </mat-error>
        </mat-form-field>
      </div>
      <mat-form-field class="demo-full-width">
        <mat-label>Email</mat-label>
        <input
          type="email"
          matInput
          placeholder="example@gmail.com"
          formControlName="email"
          required
        />
        <mat-error *ngIf="addagentform.get('email').invalid">
          <span *ngIf="addagentform.get('email').hasError('required')"
            >This field is required
          </span>
          <span *ngIf="addagentform.get('email').hasError('email')">Please enter valid Email</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="demo-full-width">
        <mat-label>Mobile</mat-label>
        <input type="text" maxlength="10" matInput placeholder="9999999999" formControlName="mobile" required />
        <mat-icon matSuffix>smartphone</mat-icon>
        <mat-error *ngIf="addagentform.get('mobile').invalid">
          <span *ngIf="addagentform.get('mobile').hasError('required')"
            >This field is required
          </span>
          <span *ngIf="addagentform.get('mobile').hasError('min')">Minimum Length is 10</span>
          <span *ngIf="addagentform.get('mobile').hasError('max')">Maximum Length is 10</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="demo-full-width">
        <mat-label>Password</mat-label>
        <input [type]="hide ? 'password' : 'text'" matInput formControlName="password" required />
        <button
          mat-icon-button
          matSuffix
          (click)="hide = !hide"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hide"
        >
          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <mat-error *ngIf="addagentform.get('password').invalid">
          {{'validations.required'| translate}}
        </mat-error>
      </mat-form-field>
      <!-- <div fxFlex="50" fxFlex.lt-sm="100">
      <mat-form-field class="demo-full-width">
        <mat-label>Select Role</mat-label>
        <mat-select formControlName="role" required >
          <mat-option *ngFor="let role of allroles" [value]="role._id"> {{role?.name}} </mat-option>
        </mat-select>
        <mat-error *ngIf="addagentform.get('role').invalid">
          {{'validations.required'| translate}}
        </mat-error>
      </mat-form-field>
    </div>-->
      <div fxFlex="50" fxFlex.lt-sm="100">
        <mat-checkbox
          class="st-chk"
          [value]="falseValue"
          (change)="checkboxChange($event.source, $event.checked)"
          formControlName="approvedstatus"
          >Approve
        </mat-checkbox>
      </div>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions>
    <button mat-raised-button mat-dialog-close cdkFocusInitial>Cancel</button>
    <button
      mat-raised-button
      mat-dialog-close
      [disabled]="addagentform.invalid"
      color="primary"
      type="submit"
    >
      Submit
    </button>
  </mat-dialog-actions>
</form>
