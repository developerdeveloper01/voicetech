(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{y78S:function(e,t,i){"use strict";i.r(t),i.d(t,"NumbersModule",function(){return de});var o=i("tyNb"),a=i("qSrz"),l=i("3Pt+"),n=i("0IaG"),s=i("M9IT"),c=i("xdv0"),r=i("wwJg"),d=i("fXoL"),b=i("r0g6"),u=i("tgey"),h=i("hGDI"),m=i("bTqV"),p=i("NFeN"),g=i("ofXK"),f=i("kmnG"),v=i("YKwE"),S=i("dNgK"),w=i("d3UM"),x=i("qFsG"),y=i("bSwM"),Z=i("FKr1"),U=i("sYmb");const C=["statusTpl"];function k(e,t){if(1&e){const e=d.bc();d.ac(0,"div",8),d.ac(1,"mat-form-field"),d.ac(2,"mat-label"),d.Uc(3,"Allot to"),d.Zb(),d.ac(4,"mtx-select",9),d.ic("ngModelChange",function(t){return d.Jc(e),d.mc(2).staff=t}),d.Zb(),d.ac(5,"mat-hint"),d.Uc(6,"Allot to someone"),d.Zb(),d.ac(7,"mat-error"),d.Uc(8,"Please choose someone!"),d.Zb(),d.Zb(),d.Zb()}if(2&e){const e=d.mc(2);d.Hb(4),d.vc("items",e.allstaff)("ngModel",e.staff)("required",!0)}}function T(e,t){if(1&e){const e=d.bc();d.ac(0,"button",6),d.ic("click",function(){return d.Jc(e),d.mc().openAddDstNumber()}),d.ac(1,"mat-icon"),d.Uc(2,"add"),d.Zb(),d.Uc(3,"Add DST Number "),d.Zb(),d.Sc(4,k,9,3,"div",7)}if(2&e){const e=d.mc();d.Hb(4),d.vc("ngIf",e.showdeletebutton)}}const I=function(){return[10,20,50,100,200,500]};function H(e,t){if(1&e&&(d.ac(0,"mat-option",12),d.Uc(1),d.Zb()),2&e){const e=t.$implicit;d.vc("value",e._id),d.Hb(1),d.Wc(" ",e.ipnumber," ")}}function M(e,t){1&e&&(d.ac(0,"mat-error"),d.Uc(1),d.nc(2,"translate"),d.Zb()),2&e&&(d.Hb(1),d.Wc(" ",d.oc(2,1,"validations.required")," "))}function q(e,t){if(1&e&&(d.ac(0,"mat-option",12),d.Uc(1),d.Zb()),2&e){const e=t.$implicit;d.vc("value",e._id),d.Hb(1),d.Xc(" ",e.firstname," ",e.lastname," ")}}function V(e,t){1&e&&(d.ac(0,"mat-error"),d.Uc(1),d.nc(2,"translate"),d.Zb()),2&e&&(d.Hb(1),d.Wc(" ",d.oc(2,1,"validations.required")," "))}function N(e,t){if(1&e&&(d.ac(0,"mat-error"),d.Uc(1),d.nc(2,"translate"),d.Zb()),2&e){const e=d.mc();d.Hb(1),d.Wc(" ",d.oc(2,1,e.getErrorMessage(e.adddstnumber))," ")}}function O(e,t){if(1&e&&(d.ac(0,"mat-option",12),d.Uc(1),d.Zb()),2&e){const e=t.$implicit;d.vc("value",e._id),d.Hb(1),d.Wc(" ",e.ipnumber," ")}}function A(e,t){1&e&&(d.ac(0,"mat-error"),d.Uc(1),d.nc(2,"translate"),d.Zb()),2&e&&(d.Hb(1),d.Wc(" ",d.oc(2,1,"validations.required")," "))}function E(e,t){if(1&e&&(d.ac(0,"mat-option",12),d.Uc(1),d.Zb()),2&e){const e=t.$implicit;d.vc("value",e._id),d.Hb(1),d.Xc(" ",e.firstname," ",e.lastname," ")}}function P(e,t){1&e&&(d.ac(0,"mat-error"),d.Uc(1),d.nc(2,"translate"),d.Zb()),2&e&&(d.Hb(1),d.Wc(" ",d.oc(2,1,"validations.required")," "))}function _(e,t){if(1&e&&(d.ac(0,"mat-error"),d.Uc(1),d.nc(2,"translate"),d.Zb()),2&e){const e=d.mc();d.Hb(1),d.Wc(" ",d.oc(2,1,e.getErrorMessage(e.editdstnumber))," ")}}const D=".demo-full-width[_ngcontent-%COMP%] {\n        width: 100%;\n      }";let R=(()=>{class e{constructor(e,t,i,o){this.dialog=e,this.dialogx=t,this.userService=i,this.cdr=o,this.columns=[],this.list=[],this.total=0,this.multiSelectable=!0,this.rowSelectable=!0,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!0,this.showPaginator=!0,this.expandable=!0,this.columnResizable=!1,this.foods=[{id:"1",name:"Apple"},{id:"2",name:"Lemon"},{id:"3",name:"Lime"},{id:"4",name:"Orange",disabled:!0},{id:"5",name:"Strawberry"}]}ngOnInit(){this.getallnumbers(),this.getallstaff(),this.columns=[{header:"DID Number",sortable:!0,field:"did_no"},{header:"IP",sortable:!0,field:"ip.ipnumber"},{header:"Alloted to",field:"giventolevel1.firstname"},{header:"Use",field:"is_used",sortable:!0},{header:"Service",field:"service_type",sortable:!0},{header:"Actions",field:"action",minWidth:180,width:"180px",pinned:"right",type:"button",buttons:[{type:"icon",color:"primary",icon:"visibility",tooltip:"view",click:e=>this.view(e)},{type:"icon",color:"accent",icon:"edit",tooltip:"edit",click:e=>this.openEditDstNumber(e)},{color:"warn",icon:"delete",text:"delete",tooltip:"delete",pop:!0,popTitle:"Confirm Delete",popCloseText:"Cancel",popOkText:"Delete",click:e=>this.delete(e)}]}]}edit(e){this.dialogx.originalOpen(r.a,{width:"900px",data:{record:e}}).afterClosed().subscribe(()=>console.log("The dialog was closed"))}openEditDstNumber(e){this.dialog.open(F,{width:"500px",data:{record:e}}).afterClosed().subscribe(()=>{console.log("The edit dailog closed"),this.getallnumbers()})}delete(e){this.userService.deletenumber(e._id).subscribe(t=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),this.isLoading=!1,this.getallnumbers(),this.cdr.detectChanges(),this.dialogx.alert(`You have deleted ${e.dstnumber}!`)},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}view(e){console.log(e)}openAddDstNumber(){this.dialog.open(z,{width:"500px"}).afterClosed().subscribe(()=>{this.getallnumbers()})}changeSelect(e){console.log(e)}changerowSelect(e){console.table(e),e.map(e=>console.log(e._id)),this.showdeletebutton=!0}changecellSelect(e){console.log(e)}allotmultiple(){console.log("todo")}getallstaff(){this.userService.getallstaff().subscribe(e=>{console.log("%cstaff.component.ts line:238 response","color: white; background-color: #007acc;",e),this.allstaff=e.data,this.staff=this.allstaff[0]._id},e=>{console.log(e)})}changeSort(e){console.log(e)}getallnumbers(){this.userService.getalldstnumbers().subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.list=e.data,this.total=e.data.length,this.isLoading=!1,this.cdr.detectChanges()},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}ngAfterViewInit(){this.isLoading=!0}}return e.\u0275fac=function(t){return new(t||e)(d.Ub(n.c),d.Ub(b.a),d.Ub(c.a),d.Ub(d.h))},e.\u0275cmp=d.Ob({type:e,selectors:[["app-dstnumber"]],viewQuery:function(e,t){if(1&e&&(d.Yc(C,3),d.Yc(s.a,1)),2&e){let e;d.Fc(e=d.jc())&&(t.statusTpl=e.first),d.Fc(e=d.jc())&&(t.paginator=e.first)}},decls:6,vars:21,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],[1,"mat-elevation-z8",3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","toolbarTemplate","columnHideable","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","sortChange","rowSelectionChange","cellSelectionChange"],["style","display: flex;"],["toolbarTpl",""],["mat-stroked-button","","color","primary",3,"click"],["class","",4,"ngIf"],[1,""],["bindLabel","firstname","bindValue","_id",3,"items","ngModel","required","ngModelChange"]],template:function(e,t){if(1&e&&(d.Vb(0,"page-header",0),d.ac(1,"div",1),d.ac(2,"div",2),d.ac(3,"mtx-grid",3),d.ic("sortChange",function(e){return t.changeSort(e)})("rowSelectionChange",function(e){return t.changerowSelect(e)})("cellSelectionChange",function(e){return t.changecellSelect(e)}),d.Zb(),d.Sc(4,T,5,1,"ng-template",4,5,d.Tc),d.Zb(),d.Zb()),2&e){const e=d.Gc(5);d.Hb(3),d.vc("data",t.list)("columns",t.columns)("loading",t.isLoading)("columnResizable",t.columnResizable)("multiSelectable",t.multiSelectable)("rowSelectable",t.rowSelectable)("hideRowSelectionCheckbox",t.hideRowSelectionCheckbox)("rowHover",t.rowHover)("rowStriped",t.rowStriped)("showToolbar",t.showToolbar)("toolbarTitle","DST Number")("toolbarTemplate",e)("columnHideable",t.columnHideable)("columnMovable",t.columnMovable)("expandable",t.expandable)("pageOnFront",t.showPaginator)("showPaginator",t.showPaginator)("pageSizeOptions",d.yc(20,I))("pageIndex",0)("pageSize",50)}},directives:[u.a,h.a,m.b,p.a,g.p,f.c,f.g,v.b,l.r,l.u,l.x,f.f,f.b],styles:[""],changeDetection:0}),e})(),z=(()=>{class e{constructor(e,t,i){this.fb=e,this.userService=t,this.snackBar=i,this.falseValue="false",this.trueValue="true",this.adddstnumber=this.fb.group({ip:["",[l.y.required]],assign:[""],did_no:["",[l.y.required,l.y.min(1e7),l.y.max(99999999)]],inusestatus:[!1]})}ngOnInit(){this.getallips(),this.getallstaff()}getErrorMessage(e){return e.get("did_no").hasError("required")?"validations.required":e.get("did_no").hasError("min")?"validations.min":e.get("did_no").hasError("max")?"validations.max":""}checkboxChange(e,t){e.value=t?this.trueValue:this.falseValue}submitdstnumber(){this.adddstnumber.valid?this.userService.adddstnumber(this.adddstnumber.value).subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.snackBar.open("DST Number Added Successfully!","",{duration:2e3}),this.adddstnumber.reset()},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)}):this.getErrorMessage(this.adddstnumber)}getallips(){this.userService.getallips().subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.allips=e.data},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}isFieldValid(e){return!this.adddstnumber.get(e).valid&&this.adddstnumber.get(e).touched}getallstaff(){this.userService.getallstaff().subscribe(e=>{console.log("%cstaff.component.ts line:238 response","color: white; background-color: #007acc;",e),this.allstaff=e.data},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(d.Ub(l.g),d.Ub(c.a),d.Ub(S.a))},e.\u0275cmp=d.Ob({type:e,selectors:[["add-dst-form"]],decls:32,vars:8,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"demo-full-width"],["formControlName","ip","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","assign","required",""],["cellspacing","0",1,"demo-full-width"],["type","number","matInput","","placeholder","991515000","formControlName","did_no","required",""],["formControlName","is_used",1,"st-chk",3,"value","change"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","mat-dialog-close","","color","primary","cdkFocusInitial","","type","submit",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(d.ac(0,"h2",0),d.Uc(1,"Add DST Number"),d.Zb(),d.ac(2,"form",1),d.ic("ngSubmit",function(){return t.submitdstnumber()}),d.ac(3,"mat-dialog-content"),d.ac(4,"mat-form-field",2),d.ac(5,"mat-label"),d.Uc(6,"IP"),d.Zb(),d.ac(7,"mat-select",3),d.Sc(8,H,2,2,"mat-option",4),d.Zb(),d.Sc(9,M,3,3,"mat-error",5),d.Zb(),d.ac(10,"mat-form-field",2),d.ac(11,"mat-label"),d.Uc(12,"Allot To"),d.Zb(),d.ac(13,"mat-select",6),d.Sc(14,q,2,3,"mat-option",4),d.Zb(),d.Sc(15,V,3,3,"mat-error",5),d.Zb(),d.ac(16,"table",7),d.ac(17,"tr"),d.ac(18,"td"),d.ac(19,"mat-form-field",2),d.ac(20,"mat-label"),d.Uc(21,"DST Number"),d.Zb(),d.Vb(22,"input",8),d.Sc(23,N,3,3,"mat-error",5),d.Zb(),d.Zb(),d.ac(24,"td"),d.ac(25,"mat-checkbox",9),d.ic("change",function(e){return t.checkboxChange(e.source,e.checked)}),d.Uc(26,"In Use "),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(27,"mat-dialog-actions"),d.ac(28,"button",10),d.Uc(29,"Cancel"),d.Zb(),d.ac(30,"button",11),d.Uc(31,"Submit"),d.Zb(),d.Zb(),d.Zb()),2&e&&(d.Hb(2),d.vc("formGroup",t.adddstnumber),d.Hb(6),d.vc("ngForOf",t.allips),d.Hb(1),d.vc("ngIf",t.adddstnumber.get("ip").invalid),d.Hb(5),d.vc("ngForOf",t.allstaff),d.Hb(1),d.vc("ngIf",t.adddstnumber.get("assign").invalid),d.Hb(8),d.vc("ngIf",t.adddstnumber.get("did_no").invalid),d.Hb(2),d.vc("value",t.falseValue),d.Hb(5),d.vc("disabled",t.adddstnumber.invalid))},directives:[n.j,l.z,l.s,l.l,n.g,f.c,f.g,w.a,l.r,l.j,l.x,g.o,g.p,l.v,x.b,l.d,y.a,n.d,m.b,n.e,Z.o,f.b],pipes:[U.d],styles:[D]}),e})(),F=(()=>{class e{constructor(e,t,i,o,a){this.fb=e,this.userService=t,this.snackBar=i,this.dialogRef=o,this.data=a,this.falseValue="false",this.trueValue="true",console.log(a),this.editdstnumber=this.fb.group({ip:["",[l.y.required]],assign:[""],did_no:["",[l.y.required,l.y.min(1e7),l.y.max(99999999)]],inusestatus:[!1]})}ngOnInit(){var e,t,i,o,a,l,n,s,c,r,d,b,u,h,m;this.getallips(),this.getallstaff(),this.editdstnumber.setValue({ip:(null===(t=null===(e=this.data)||void 0===e?void 0:e.record)||void 0===t?void 0:t.ip)?null===(a=null===(o=null===(i=this.data)||void 0===i?void 0:i.record)||void 0===o?void 0:o.ip)||void 0===a?void 0:a._id:"null",assign:(null===(n=null===(l=this.data)||void 0===l?void 0:l.record)||void 0===n?void 0:n.giventolevel1)?null===(c=null===(s=this.data)||void 0===s?void 0:s.record)||void 0===c?void 0:c.giventolevel1:"null",did_no:(null===(d=null===(r=this.data)||void 0===r?void 0:r.record)||void 0===d?void 0:d.did_no)?null===(u=null===(b=this.data)||void 0===b?void 0:b.record)||void 0===u?void 0:u.did_no:"null",inusestatus:!!(null===(m=null===(h=this.data)||void 0===h?void 0:h.record)||void 0===m?void 0:m.inusestatus)})}getErrorMessage(e){return e.get("did_no").hasError("required")?"validations.required":e.get("did_no").hasError("min")?"validations.min":e.get("did_no").hasError("max")?"validations.max":""}getallips(){this.userService.getallips().subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.allips=e.data},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}getallstaff(){this.userService.getallstaff().subscribe(e=>{console.log("%cstaff.component.ts line:238 response","color: white; background-color: #007acc;",e),this.allstaff=e.data},e=>{console.log(e)})}checkboxChange(e,t){e.value=t?this.trueValue:this.falseValue}isFieldValid(e){return!this.editdstnumber.get(e).valid&&this.editdstnumber.get(e).touched}submitdstnumber(){console.log(this.editdstnumber.value),this.editdstnumber.valid?this.userService.editdstnumber(this.data.record._id,this.editdstnumber.value).subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.snackBar.open("IP Edited Successfully!","",{duration:2e3}),this.editdstnumber.reset()},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)}):this.getErrorMessage(this.editdstnumber)}}return e.\u0275fac=function(t){return new(t||e)(d.Ub(l.g),d.Ub(c.a),d.Ub(S.a),d.Ub(n.i),d.Ub(n.a))},e.\u0275cmp=d.Ob({type:e,selectors:[["edit-dst-form"]],decls:32,vars:8,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"demo-full-width"],["formControlName","ip","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","assign","required",""],["cellspacing","0",1,"demo-full-width"],["type","number","matInput","","placeholder","991515000","formControlName","did_no","required",""],["formControlName","inusestatus",1,"st-chk",3,"value","change"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","","type","submit",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(d.ac(0,"h2",0),d.Uc(1,"Edit DST Number"),d.Zb(),d.ac(2,"form",1),d.ic("ngSubmit",function(){return t.submitdstnumber()}),d.ac(3,"mat-dialog-content"),d.ac(4,"mat-form-field",2),d.ac(5,"mat-label"),d.Uc(6,"IP"),d.Zb(),d.ac(7,"mat-select",3),d.Sc(8,O,2,2,"mat-option",4),d.Zb(),d.Sc(9,A,3,3,"mat-error",5),d.Zb(),d.ac(10,"mat-form-field",2),d.ac(11,"mat-label"),d.Uc(12,"Allot To"),d.Zb(),d.ac(13,"mat-select",6),d.Sc(14,E,2,3,"mat-option",4),d.Zb(),d.Sc(15,P,3,3,"mat-error",5),d.Zb(),d.ac(16,"table",7),d.ac(17,"tr"),d.ac(18,"td"),d.ac(19,"mat-form-field",2),d.ac(20,"mat-label"),d.Uc(21,"DST Number"),d.Zb(),d.Vb(22,"input",8),d.Sc(23,_,3,3,"mat-error",5),d.Zb(),d.Zb(),d.ac(24,"td"),d.ac(25,"mat-checkbox",9),d.ic("change",function(e){return t.checkboxChange(e.source,e.checked)}),d.Uc(26,"In Use "),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(27,"mat-dialog-actions"),d.ac(28,"button",10),d.Uc(29,"Cancel"),d.Zb(),d.ac(30,"button",11),d.Uc(31,"Submit"),d.Zb(),d.Zb(),d.Zb()),2&e&&(d.Hb(2),d.vc("formGroup",t.editdstnumber),d.Hb(6),d.vc("ngForOf",t.allips),d.Hb(1),d.vc("ngIf",t.editdstnumber.get("ip").invalid),d.Hb(5),d.vc("ngForOf",t.allstaff),d.Hb(1),d.vc("ngIf",t.editdstnumber.get("assign").invalid),d.Hb(8),d.vc("ngIf",t.editdstnumber.get("did_no").invalid),d.Hb(2),d.vc("value",t.falseValue),d.Hb(5),d.vc("disabled",t.editdstnumber.invalid))},directives:[n.j,l.z,l.s,l.l,n.g,f.c,f.g,w.a,l.r,l.j,l.x,g.o,g.p,l.v,x.b,l.d,y.a,n.d,m.b,n.e,Z.o,f.b],pipes:[U.d],styles:[D]}),e})();var X=i("HJYq");function L(e,t){1&e&&d.Uc(0),2&e&&d.Wc(" ",t.$implicit.name," ")}function G(e,t){if(1&e){const e=d.bc();d.ac(0,"button",7),d.ic("click",function(){return d.Jc(e),d.mc().openAddIp()}),d.ac(1,"mat-icon"),d.Uc(2,"add"),d.Zb(),d.Uc(3,"Add IP "),d.Zb(),d.ac(4,"input",8),d.ic("ngModelChange",function(t){return d.Jc(e),d.mc().filterSearch=t})("ngModelChange",function(t){return d.Jc(e),d.mc().searchData(t)}),d.Zb()}if(2&e){const e=d.mc();d.Hb(4),d.vc("ngModel",e.filterSearch)}}function j(e,t){if(1&e&&(d.ac(0,"button",9),d.Uc(1),d.Zb()),2&e){const e=t.$implicit;d.Hb(1),d.Vc(e.title)}}const W=function(e){return{title:e}},Y=function(){return[50,100,200,500]};function B(e,t){1&e&&(d.ac(0,"mat-error"),d.Uc(1),d.nc(2,"translate"),d.Zb()),2&e&&(d.Hb(1),d.Wc(" ",d.oc(2,1,"validations.required")," "))}function J(e,t){if(1&e&&(d.ac(0,"mat-error"),d.Uc(1),d.Zb()),2&e){const e=d.mc();d.Hb(1),d.Wc(" ",e.getErrorMessage(e.addip)," ")}}function $(e,t){1&e&&(d.ac(0,"mat-error"),d.Uc(1),d.nc(2,"translate"),d.Zb()),2&e&&(d.Hb(1),d.Wc(" ",d.oc(2,1,"validations.required")," "))}function K(e,t){if(1&e&&(d.ac(0,"mat-error"),d.Uc(1),d.Zb()),2&e){const e=d.mc();d.Hb(1),d.Wc(" ",e.getErrorMessage(e.editip)," ")}}const Q=".demo-full-width[_ngcontent-%COMP%] {\n        width: 100%;\n      }";let ee=(()=>{class e{constructor(e,t,i,o,a,n,s,c){this.fb=e,this.userService=t,this.snackBar=i,this.translate=o,this.dateAdapter=a,this.dialog=n,this.cdr=s,this.dialogx=c,this.toggleeditrole=!0,this.falseValue="false",this.trueValue="true",this.columns=[{header:"IP",sortable:!0,field:"ipnumber"},{header:"Provider",sortable:!0,field:"title"},{header:"Active Status",field:"activestatus",type:"tag",tag:{true:{text:"Yes",color:"green-200"},false:{text:"No",color:"red-200"}}},{header:"Actions",field:"action",minWidth:120,width:"120px",pinned:"right",type:"button",buttons:[{type:"icon",icon:"edit",tooltip:"edit",click:e=>this.openEditIp(e)},{color:"warn",icon:"delete",text:"delete",tooltip:"delete",pop:!0,popTitle:"Confirm Delete",popCloseText:"Cancel",popOkText:"Delete",click:e=>this.delete(e)}]}],this.list=[],this.total=0,this.multiSelectable=!0,this.rowSelectable=!0,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!0,this.showPaginator=!0,this.expandable=!0,this.columnResizable=!1,this.displayedColumns=["ipnumber","title","activestatus","actions"],this.addipform=this.fb.group({ipnumber:["",[l.y.required]],title:["",[l.y.required]],activestatus:[!1]}),this.editipform=this.fb.group({ipnumber:["",[l.y.required]],title:["",[l.y.required]],activestatus:[!1]})}ngOnInit(){this.getallips(),this.translateSubscription=this.translate.onLangChange.subscribe(e=>{this.dateAdapter.setLocale(e.lang)})}edit(e){this.dialogx.originalOpen(r.a,{width:"900px",data:{record:e}}).afterClosed().subscribe(()=>console.log("The dialog was closed"))}delete(e){this.userService.deleteip(e._id).subscribe(t=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),this.isLoading=!1,this.getallips(),this.cdr.detectChanges(),this.dialogx.alert(`You have deleted ${e.title}!`)},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}getallips(){this.userService.getallips().subscribe(e=>{console.log("%crole.component.ts line:311 response","color: #26bfa5;",e),this.list=e.data,this.total=e.data.length,this.isLoading=!1,this.cdr.detectChanges()},e=>{console.log("%cerror role.component.ts line:318 ","color: red; display: block; width: 100%;",e)})}getErrorMessage(e){return e.get("ipnumber").hasError("required")||e.get("title").hasError("required")?"validations.required":""}checkboxChange(e,t){e.value=t?this.trueValue:this.falseValue}changeSelect(e){console.log(e)}changeSort(e){console.log(e)}submitipForm(){console.log(this.addipform.value),this.userService.addip(this.addipform.value).subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.snackBar.open("IP Added Successfully!","",{duration:2e3}),this.addipform.reset(),this.getallips()},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}ngAfterViewInit(){this.isLoading=!0}ngOnDestroy(){console.log("component destroyed")}openAddIp(){this.dialog.open(te,{width:"500px"}).afterClosed().subscribe(()=>{this.getallips(),this.cdr.detectChanges()})}openEditIp(e){this.dialog.open(ie,{width:"500px",data:{record:e}}).afterClosed().subscribe(()=>{console.log("The edit dailog closed"),this.getallips()})}}return e.\u0275fac=function(t){return new(t||e)(d.Ub(l.g),d.Ub(c.a),d.Ub(S.a),d.Ub(U.e),d.Ub(Z.c),d.Ub(n.c),d.Ub(d.h),d.Ub(b.a))},e.\u0275cmp=d.Ob({type:e,selectors:[["app-ips"]],viewQuery:function(e,t){if(1&e&&d.Yc(s.a,1),2&e){let e;d.Fc(e=d.jc())&&(t.paginator=e.first)}},features:[d.Gb([X.a])],decls:10,vars:25,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],[1,"mat-elevation-z8","r-4",3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","toolbarTemplate","columnHideable","columnMovable","expandable","cellTemplate","expansionTemplate","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","sortChange","selectionChange"],["expansionTpl",""],["toolbarTpl",""],["cityTpl",""],["mat-stroked-button","","color","primary",3,"click"],["placeholder","Start typing","type","text","autocomplete","off",1,"form-control",2,"padding","5px","margin","0px 2px","border","1px solid #d7d7d7","line-height","24px","border-radius","4px",3,"ngModel","ngModelChange"],["mat-flat-button",""]],template:function(e,t){if(1&e&&(d.Vb(0,"page-header",0),d.ac(1,"div",1),d.ac(2,"div",2),d.ac(3,"mtx-grid",3),d.ic("sortChange",function(e){return t.changeSort(e)})("selectionChange",function(e){return t.changeSelect(e)}),d.Zb(),d.Sc(4,L,1,1,"ng-template",null,4,d.Tc),d.Sc(6,G,5,1,"ng-template",null,5,d.Tc),d.Sc(8,j,2,1,"ng-template",null,6,d.Tc),d.Zb(),d.Zb()),2&e){const e=d.Gc(5),i=d.Gc(7),o=d.Gc(9);d.Hb(3),d.vc("data",t.list)("columns",t.columns)("loading",t.isLoading)("columnResizable",t.columnResizable)("multiSelectable",t.multiSelectable)("rowSelectable",t.rowSelectable)("hideRowSelectionCheckbox",t.hideRowSelectionCheckbox)("rowHover",t.rowHover)("rowStriped",t.rowStriped)("showToolbar",t.showToolbar)("toolbarTitle","IP")("toolbarTemplate",i)("columnHideable",t.columnHideable)("columnMovable",t.columnMovable)("expandable",t.expandable)("cellTemplate",d.zc(22,W,o))("expansionTemplate",e)("pageOnFront",t.showPaginator)("showPaginator",t.showPaginator)("pageSizeOptions",d.yc(24,Y))("pageIndex",0)("pageSize",50)}},directives:[u.a,h.a,m.b,p.a,l.d,l.r,l.u],styles:[""],changeDetection:0}),e})(),te=(()=>{class e{constructor(e,t,i){this.fb=e,this.userService=t,this.snackBar=i,this.falseValue="false",this.trueValue="true",this.addip=this.fb.group({ipnumber:["",[l.y.required,l.y.pattern("(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)")]],title:["",[l.y.required]],activestatus:[!1]})}ngOnInit(){}getErrorMessage(e){return e.get("ipnumber").hasError("required")?"This field is required":e.get("ipnumber").hasError("pattern")?"Pattern doesnt match should be XXX.XXX.XXX.XXX.":""}checkboxChange(e,t){e.value=t?this.trueValue:this.falseValue}submitip(){this.addip.valid?this.userService.addip(this.addip.value).subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.snackBar.open("IP Added Successfully!","",{duration:2e3}),this.addip.reset()},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)}):this.getErrorMessage(this.addip)}isFieldValid(e){return!this.addip.get(e).valid&&this.addip.get(e).touched}}return e.\u0275fac=function(t){return new(t||e)(d.Ub(l.g),d.Ub(c.a),d.Ub(S.a))},e.\u0275cmp=d.Ob({type:e,selectors:[["add-ip-form"]],decls:25,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"demo-full-width"],["type","text","matInput","","placeholder","Neron","formControlName","title","required",""],[4,"ngIf"],["cellspacing","0",1,"demo-full-width"],["type","text","matInput","","placeholder","xxx.xxx.xxx.xxx","formControlName","ipnumber","required",""],["formControlName","activestatus",1,"st-chk",3,"value","change"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","mat-dialog-close","","color","primary","cdkFocusInitial","","type","submit",3,"disabled"]],template:function(e,t){1&e&&(d.ac(0,"h2",0),d.Uc(1,"Add IP"),d.Zb(),d.ac(2,"form",1),d.ic("ngSubmit",function(){return t.submitip()}),d.ac(3,"mat-dialog-content"),d.ac(4,"mat-form-field",2),d.ac(5,"mat-label"),d.Uc(6,"Title"),d.Zb(),d.Vb(7,"input",3),d.Sc(8,B,3,3,"mat-error",4),d.Zb(),d.ac(9,"table",5),d.ac(10,"tr"),d.ac(11,"td"),d.ac(12,"mat-form-field",2),d.ac(13,"mat-label"),d.Uc(14,"IP"),d.Zb(),d.Vb(15,"input",6),d.Sc(16,J,2,1,"mat-error",4),d.Zb(),d.Zb(),d.ac(17,"td"),d.ac(18,"mat-checkbox",7),d.ic("change",function(e){return t.checkboxChange(e.source,e.checked)}),d.Uc(19,"Active "),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(20,"mat-dialog-actions"),d.ac(21,"button",8),d.Uc(22,"Cancel"),d.Zb(),d.ac(23,"button",9),d.Uc(24,"Submit"),d.Zb(),d.Zb(),d.Zb()),2&e&&(d.Hb(2),d.vc("formGroup",t.addip),d.Hb(6),d.vc("ngIf",t.addip.get("title").invalid),d.Hb(8),d.vc("ngIf",t.addip.get("ipnumber").invalid),d.Hb(2),d.vc("value",t.falseValue),d.Hb(5),d.vc("disabled",t.addip.invalid))},directives:[n.j,l.z,l.s,l.l,n.g,f.c,f.g,x.b,l.d,l.r,l.j,l.x,g.p,y.a,n.d,m.b,n.e,f.b],pipes:[U.d],styles:[Q]}),e})(),ie=(()=>{class e{constructor(e,t,i,o,a){this.fb=e,this.userService=t,this.snackBar=i,this.dialogRef=o,this.data=a,this.falseValue="false",this.trueValue="true",console.log(a),this.editip=this.fb.group({ipnumber:["",[l.y.required,l.y.pattern("(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)")]],title:["",[l.y.required]],activestatus:[!1]})}ngOnInit(){var e,t,i,o,a,l,n,s,c,r;this.editip.setValue({ipnumber:(null===(t=null===(e=this.data)||void 0===e?void 0:e.record)||void 0===t?void 0:t.ipnumber)?null===(o=null===(i=this.data)||void 0===i?void 0:i.record)||void 0===o?void 0:o.ipnumber:"null",title:(null===(l=null===(a=this.data)||void 0===a?void 0:a.record)||void 0===l?void 0:l.title)?null===(s=null===(n=this.data)||void 0===n?void 0:n.record)||void 0===s?void 0:s.title:"null",activestatus:!!(null===(r=null===(c=this.data)||void 0===c?void 0:c.record)||void 0===r?void 0:r.activestatus)})}getErrorMessage(e){return e.get("ipnumber").hasError("required")?"This field is required":e.get("ipnumber").hasError("pattern")?"Pattern doesnt match should be XXX.XXX.XXX.XXX.":""}getallips(){this.userService.getallips().subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.allips=e.data},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}checkboxChange(e,t){e.value=t?this.trueValue:this.falseValue}isFieldValid(e){return!this.editip.get(e).valid&&this.editip.get(e).touched}submiteditip(){console.log(this.editip.value),this.editip.valid?this.userService.editip(this.data.record._id,this.editip.value).subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.snackBar.open("IP Edited Successfully!","",{duration:2e3}),this.editip.reset()},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)}):this.getErrorMessage(this.editip)}}return e.\u0275fac=function(t){return new(t||e)(d.Ub(l.g),d.Ub(c.a),d.Ub(S.a),d.Ub(n.i),d.Ub(n.a))},e.\u0275cmp=d.Ob({type:e,selectors:[["edit-ip-form"]],decls:25,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"demo-full-width"],["type","text","matInput","","placeholder","Neron","formControlName","title","required",""],[4,"ngIf"],["cellspacing","0",1,"demo-full-width"],["type","text","matInput","","placeholder","xxx.xxx.xxx.xxx","formControlName","ipnumber","required",""],["formControlName","activestatus",1,"st-chk",3,"value","change"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","mat-dialog-close","","color","primary","cdkFocusInitial","","type","submit",3,"disabled"]],template:function(e,t){1&e&&(d.ac(0,"h2",0),d.Uc(1,"Edit IP"),d.Zb(),d.ac(2,"form",1),d.ic("ngSubmit",function(){return t.submiteditip()}),d.ac(3,"mat-dialog-content"),d.ac(4,"mat-form-field",2),d.ac(5,"mat-label"),d.Uc(6,"Title"),d.Zb(),d.Vb(7,"input",3),d.Sc(8,$,3,3,"mat-error",4),d.Zb(),d.ac(9,"table",5),d.ac(10,"tr"),d.ac(11,"td"),d.ac(12,"mat-form-field",2),d.ac(13,"mat-label"),d.Uc(14,"IP"),d.Zb(),d.Vb(15,"input",6),d.Sc(16,K,2,1,"mat-error",4),d.Zb(),d.Zb(),d.ac(17,"td"),d.ac(18,"mat-checkbox",7),d.ic("change",function(e){return t.checkboxChange(e.source,e.checked)}),d.Uc(19,"Active "),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(20,"mat-dialog-actions"),d.ac(21,"button",8),d.Uc(22,"Cancel"),d.Zb(),d.ac(23,"button",9),d.Uc(24,"Submit"),d.Zb(),d.Zb(),d.Zb()),2&e&&(d.Hb(2),d.vc("formGroup",t.editip),d.Hb(6),d.vc("ngIf",t.editip.get("title").invalid),d.Hb(8),d.vc("ngIf",t.editip.get("ipnumber").invalid),d.Hb(2),d.vc("value",t.falseValue),d.Hb(5),d.vc("disabled",t.editip.invalid))},directives:[n.j,l.z,l.s,l.l,n.g,f.c,f.g,x.b,l.d,l.r,l.j,l.x,g.p,y.a,n.d,m.b,n.e,f.b],pipes:[U.d],styles:[Q]}),e})();var oe=i("Qu3c");function ae(e,t){1&e&&(d.ac(0,"button",7),d.ac(1,"mat-icon",8),d.Uc(2,"delete"),d.Zb(),d.Zb())}function le(e,t){if(1&e){const e=d.bc();d.ac(0,"button",5),d.ic("click",function(){return d.Jc(e),d.mc().openAddDstNumber()}),d.ac(1,"mat-icon"),d.Uc(2,"add"),d.Zb(),d.Uc(3,"Add DST Number "),d.Zb(),d.Sc(4,ae,3,0,"button",6)}if(2&e){const e=d.mc();d.Hb(4),d.vc("ngIf",e.showdeletebutton)}}const ne=function(){return[50,100,200,500]},se=[{path:"dstnumber",component:R,canActivate:[a.b],data:{permissions:{only:["SUPERADMIN"],redirectTo:"/dashboard"}}},{path:"ips",component:ee,canActivate:[a.b],data:{permissions:{only:["SUPERADMIN"],redirectTo:"/dashboard"}}},{path:"my-numbers",component:(()=>{class e{constructor(e,t,i,o){this.dialog=e,this.dialogx=t,this.userService=i,this.cdr=o,this.columns=[],this.list=[],this.total=0,this.isLoading=!0,this.multiSelectable=!0,this.rowSelectable=!0,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!0,this.showPaginator=!0,this.expandable=!0,this.columnResizable=!1}ngOnInit(){this.getallnumbers(),this.columns=[{header:"DID Number",sortable:!0,field:"did_no"},{header:"IP",sortable:!0,field:"ip.ipnumber"},{header:"Alloted to",field:"giventolevel1.firstname"},{header:"Active Status",field:"inusestatus",type:"tag",sortable:!0,tag:{true:{text:"Yes",color:"green-200"},false:{text:"No",color:"red-200"}}},{header:"Actions",field:"action",minWidth:180,width:"180px",pinned:"right",type:"button",buttons:[{type:"icon",color:"primary",icon:"visibility",tooltip:"view",click:e=>this.view(e)},{color:"warn",icon:"delete",text:"delete",tooltip:"delete",pop:!0,popTitle:"Confirm Delete",popCloseText:"Cancel",popOkText:"Delete",click:e=>this.delete(e)}]}]}edit(e){this.dialogx.originalOpen(r.a,{width:"900px",data:{record:e}}).afterClosed().subscribe(()=>console.log("The dialog was closed"))}delete(e){this.userService.deletenumber(e._id).subscribe(t=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),this.isLoading=!1,this.getallnumbers(),this.cdr.detectChanges(),this.dialogx.alert(`You have deleted ${e.dstnumber}!`)},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}view(e){console.log(e)}changeSelect(e){console.log(e)}changerowSelect(e){console.log(e),e.map(e=>console.log(e._id)),this.showdeletebutton=!0}changecellSelect(e){console.log(e)}changeSort(e){console.log(e)}getallnumbers(){this.userService.mydstnumbers().subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.list=e.data,this.total=e.data.length,this.isLoading=!1,this.cdr.detectChanges()},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}ngAfterViewInit(){this.isLoading=!0}}return e.\u0275fac=function(t){return new(t||e)(d.Ub(n.c),d.Ub(b.a),d.Ub(c.a),d.Ub(d.h))},e.\u0275cmp=d.Ob({type:e,selectors:[["app-number-list"]],viewQuery:function(e,t){if(1&e&&d.Yc(s.a,1),2&e){let e;d.Fc(e=d.jc())&&(t.paginator=e.first)}},decls:6,vars:21,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],[1,"mat-elevation-z8",3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","toolbarTemplate","columnHideable","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","sortChange","rowSelectionChange","cellSelectionChange"],["toolbarTpl",""],["mat-stroked-button","","color","primary",3,"click"],["matTooltip","Delete selected","mat-icon-button","","color","warn",4,"ngIf"],["matTooltip","Delete selected","mat-icon-button","","color","warn"],[1,"mat-18"]],template:function(e,t){if(1&e&&(d.Vb(0,"page-header",0),d.ac(1,"div",1),d.ac(2,"div",2),d.ac(3,"mtx-grid",3),d.ic("sortChange",function(e){return t.changeSort(e)})("rowSelectionChange",function(e){return t.changerowSelect(e)})("cellSelectionChange",function(e){return t.changecellSelect(e)}),d.Zb(),d.Sc(4,le,5,1,"ng-template",null,4,d.Tc),d.Zb(),d.Zb()),2&e){const e=d.Gc(5);d.Hb(3),d.vc("data",t.list)("columns",t.columns)("loading",t.isLoading)("columnResizable",t.columnResizable)("multiSelectable",t.multiSelectable)("rowSelectable",t.rowSelectable)("hideRowSelectionCheckbox",t.hideRowSelectionCheckbox)("rowHover",t.rowHover)("rowStriped",t.rowStriped)("showToolbar",t.showToolbar)("toolbarTitle","DST Number")("toolbarTemplate",e)("columnHideable",t.columnHideable)("columnMovable",t.columnMovable)("expandable",t.expandable)("pageOnFront",t.showPaginator)("showPaginator",t.showPaginator)("pageSizeOptions",d.yc(20,ne))("pageIndex",0)("pageSize",50)}},directives:[u.a,h.a,m.b,p.a,g.p,oe.a],styles:[""]}),e})(),canActivate:[a.b],data:{permissions:{only:["SUPERADMIN","ADMIN","MANAGER","RESELLER"],redirectTo:"/dashboard"}}}];let ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Sb({type:e}),e.\u0275inj=d.Rb({imports:[[o.j.forChild(se)],o.j]}),e})();var re=i("M0ag");let de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.Sb({type:e}),e.\u0275inj=d.Rb({imports:[[re.d,ce]]}),e})()}}]);