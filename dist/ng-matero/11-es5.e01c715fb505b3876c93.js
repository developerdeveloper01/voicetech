!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{y78S:function(t,o,n){"use strict";n.r(o),n.d(o,"NumbersModule",function(){return we});var a=n("tyNb"),l=n("qSrz"),c=n("3Pt+"),r=n("0IaG"),s=n("M9IT"),d=n("xdv0"),u=n("wwJg"),b=n("fXoL"),m=n("r0g6"),p=n("tgey"),h=n("hGDI"),f=n("bTqV"),g=n("NFeN"),v=n("ofXK"),S=n("kmnG"),y=n("YKwE"),w=n("dNgK"),k=n("d3UM"),x=n("qFsG"),Z=n("bSwM"),U=n("FKr1"),C=n("sYmb"),T=["statusTpl"];function I(e,t){if(1&e){var i=b.bc();b.ac(0,"div",8),b.ac(1,"mat-form-field"),b.ac(2,"mat-label"),b.Uc(3,"Allot to"),b.Zb(),b.ac(4,"mtx-select",9),b.ic("ngModelChange",function(e){return b.Jc(i),b.mc(2).staff=e}),b.Zb(),b.ac(5,"mat-hint"),b.Uc(6,"Allot to someone"),b.Zb(),b.ac(7,"mat-error"),b.Uc(8,"Please choose someone!"),b.Zb(),b.Zb(),b.Zb()}if(2&e){var o=b.mc(2);b.Hb(4),b.vc("items",o.allstaff)("ngModel",o.staff)("required",!0)}}function H(e,t){if(1&e){var i=b.bc();b.ac(0,"button",6),b.ic("click",function(){return b.Jc(i),b.mc().openAddDstNumber()}),b.ac(1,"mat-icon"),b.Uc(2,"add"),b.Zb(),b.Uc(3,"Add DST Number "),b.Zb(),b.Sc(4,I,9,3,"div",7)}if(2&e){var o=b.mc();b.Hb(4),b.vc("ngIf",o.showdeletebutton)}}var M=function(){return[10,20,50,100,200,500]};function q(e,t){if(1&e&&(b.ac(0,"mat-option",12),b.Uc(1),b.Zb()),2&e){var i=t.$implicit;b.vc("value",i._id),b.Hb(1),b.Wc(" ",i.ipnumber," ")}}function V(e,t){1&e&&(b.ac(0,"mat-error"),b.Uc(1),b.nc(2,"translate"),b.Zb()),2&e&&(b.Hb(1),b.Wc(" ",b.oc(2,1,"validations.required")," "))}function N(e,t){if(1&e&&(b.ac(0,"mat-option",12),b.Uc(1),b.Zb()),2&e){var i=t.$implicit;b.vc("value",i._id),b.Hb(1),b.Xc(" ",i.firstname," ",i.lastname," ")}}function O(e,t){1&e&&(b.ac(0,"mat-error"),b.Uc(1),b.nc(2,"translate"),b.Zb()),2&e&&(b.Hb(1),b.Wc(" ",b.oc(2,1,"validations.required")," "))}function E(e,t){if(1&e&&(b.ac(0,"mat-error"),b.Uc(1),b.nc(2,"translate"),b.Zb()),2&e){var i=b.mc();b.Hb(1),b.Wc(" ",b.oc(2,1,i.getErrorMessage(i.adddstnumber))," ")}}function A(e,t){if(1&e&&(b.ac(0,"mat-option",12),b.Uc(1),b.Zb()),2&e){var i=t.$implicit;b.vc("value",i._id),b.Hb(1),b.Wc(" ",i.ipnumber," ")}}function P(e,t){1&e&&(b.ac(0,"mat-error"),b.Uc(1),b.nc(2,"translate"),b.Zb()),2&e&&(b.Hb(1),b.Wc(" ",b.oc(2,1,"validations.required")," "))}function _(e,t){if(1&e&&(b.ac(0,"mat-option",12),b.Uc(1),b.Zb()),2&e){var i=t.$implicit;b.vc("value",i._id),b.Hb(1),b.Xc(" ",i.firstname," ",i.lastname," ")}}function D(e,t){1&e&&(b.ac(0,"mat-error"),b.Uc(1),b.nc(2,"translate"),b.Zb()),2&e&&(b.Hb(1),b.Wc(" ",b.oc(2,1,"validations.required")," "))}function R(e,t){if(1&e&&(b.ac(0,"mat-error"),b.Uc(1),b.nc(2,"translate"),b.Zb()),2&e){var i=b.mc();b.Hb(1),b.Wc(" ",b.oc(2,1,i.getErrorMessage(i.editdstnumber))," ")}}var z,F,X,L=".demo-full-width[_ngcontent-%COMP%] {\n        width: 100%;\n      }",G=((X=function(){function t(i,o,n,a){e(this,t),this.dialog=i,this.dialogx=o,this.userService=n,this.cdr=a,this.columns=[],this.list=[],this.total=0,this.multiSelectable=!0,this.rowSelectable=!0,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!0,this.showPaginator=!0,this.expandable=!0,this.columnResizable=!1,this.foods=[{id:"1",name:"Apple"},{id:"2",name:"Lemon"},{id:"3",name:"Lime"},{id:"4",name:"Orange",disabled:!0},{id:"5",name:"Strawberry"}]}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.getallnumbers(),this.getallstaff(),this.columns=[{header:"DID Number",sortable:!0,field:"did_no"},{header:"IP",sortable:!0,field:"ip.ipnumber"},{header:"Alloted to",field:"giventolevel1.firstname"},{header:"Use",field:"is_used",sortable:!0},{header:"Service",field:"service_type",sortable:!0},{header:"Actions",field:"action",minWidth:180,width:"180px",pinned:"right",type:"button",buttons:[{type:"icon",color:"primary",icon:"visibility",tooltip:"view",click:function(t){return e.view(t)}},{type:"icon",color:"accent",icon:"edit",tooltip:"edit",click:function(t){return e.openEditDstNumber(t)}},{color:"warn",icon:"delete",text:"delete",tooltip:"delete",pop:!0,popTitle:"Confirm Delete",popCloseText:"Cancel",popOkText:"Delete",click:function(t){return e.delete(t)}}]}]}},{key:"edit",value:function(e){this.dialogx.originalOpen(u.a,{width:"900px",data:{record:e}}).afterClosed().subscribe(function(){return console.log("The dialog was closed")})}},{key:"openEditDstNumber",value:function(e){var t=this;this.dialog.open(W,{width:"500px",data:{record:e}}).afterClosed().subscribe(function(){console.log("The edit dailog closed"),t.getallnumbers()})}},{key:"delete",value:function(e){var t=this;this.userService.deletenumber(e._id).subscribe(function(i){console.log("%cips.component.ts line:248 response","color: #26bfa5;",i),t.isLoading=!1,t.getallnumbers(),t.cdr.detectChanges(),t.dialogx.alert("You have deleted ".concat(e.dstnumber,"!"))},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}},{key:"view",value:function(e){console.log(e)}},{key:"openAddDstNumber",value:function(){var e=this;this.dialog.open(j,{width:"500px"}).afterClosed().subscribe(function(){e.getallnumbers()})}},{key:"changeSelect",value:function(e){console.log(e)}},{key:"changerowSelect",value:function(e){console.table(e),e.map(function(e){return console.log(e._id)}),this.showdeletebutton=!0}},{key:"changecellSelect",value:function(e){console.log(e)}},{key:"allotmultiple",value:function(){console.log("todo")}},{key:"getallstaff",value:function(){var e=this;this.userService.getallstaff().subscribe(function(t){console.log("%cstaff.component.ts line:238 response","color: white; background-color: #007acc;",t),e.allstaff=t.data,e.staff=e.allstaff[0]._id},function(e){console.log(e)})}},{key:"changeSort",value:function(e){console.log(e)}},{key:"getallnumbers",value:function(){var e=this;this.userService.getalldstnumbers().subscribe(function(t){console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),e.list=t.data,e.total=t.data.length,e.isLoading=!1,e.cdr.detectChanges()},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}},{key:"ngAfterViewInit",value:function(){this.isLoading=!0}}]),t}()).\u0275fac=function(e){return new(e||X)(b.Ub(r.c),b.Ub(m.a),b.Ub(d.a),b.Ub(b.h))},X.\u0275cmp=b.Ob({type:X,selectors:[["app-dstnumber"]],viewQuery:function(e,t){var i;1&e&&(b.Yc(T,3),b.Yc(s.a,1)),2&e&&(b.Fc(i=b.jc())&&(t.statusTpl=i.first),b.Fc(i=b.jc())&&(t.paginator=i.first))},decls:6,vars:21,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],[1,"mat-elevation-z8",3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","toolbarTemplate","columnHideable","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","sortChange","rowSelectionChange","cellSelectionChange"],["style","display: flex;"],["toolbarTpl",""],["mat-stroked-button","","color","primary",3,"click"],["class","",4,"ngIf"],[1,""],["bindLabel","firstname","bindValue","_id",3,"items","ngModel","required","ngModelChange"]],template:function(e,t){if(1&e&&(b.Vb(0,"page-header",0),b.ac(1,"div",1),b.ac(2,"div",2),b.ac(3,"mtx-grid",3),b.ic("sortChange",function(e){return t.changeSort(e)})("rowSelectionChange",function(e){return t.changerowSelect(e)})("cellSelectionChange",function(e){return t.changecellSelect(e)}),b.Zb(),b.Sc(4,H,5,1,"ng-template",4,5,b.Tc),b.Zb(),b.Zb()),2&e){var i=b.Gc(5);b.Hb(3),b.vc("data",t.list)("columns",t.columns)("loading",t.isLoading)("columnResizable",t.columnResizable)("multiSelectable",t.multiSelectable)("rowSelectable",t.rowSelectable)("hideRowSelectionCheckbox",t.hideRowSelectionCheckbox)("rowHover",t.rowHover)("rowStriped",t.rowStriped)("showToolbar",t.showToolbar)("toolbarTitle","DST Number")("toolbarTemplate",i)("columnHideable",t.columnHideable)("columnMovable",t.columnMovable)("expandable",t.expandable)("pageOnFront",t.showPaginator)("showPaginator",t.showPaginator)("pageSizeOptions",b.yc(20,M))("pageIndex",0)("pageSize",50)}},directives:[p.a,h.a,f.b,g.a,v.p,S.c,S.g,y.b,c.r,c.u,c.x,S.f,S.b],styles:[""],changeDetection:0}),X),j=((F=function(){function t(i,o,n){e(this,t),this.fb=i,this.userService=o,this.snackBar=n,this.falseValue="false",this.trueValue="true",this.adddstnumber=this.fb.group({ip:["",[c.y.required]],assign:[""],did_no:["",[c.y.required,c.y.min(1e7),c.y.max(99999999)]],inusestatus:[!1]})}return i(t,[{key:"ngOnInit",value:function(){this.getallips(),this.getallstaff()}},{key:"getErrorMessage",value:function(e){return e.get("did_no").hasError("required")?"validations.required":e.get("did_no").hasError("min")?"validations.min":e.get("did_no").hasError("max")?"validations.max":""}},{key:"checkboxChange",value:function(e,t){e.value=t?this.trueValue:this.falseValue}},{key:"submitdstnumber",value:function(){var e=this;this.adddstnumber.valid?this.userService.adddstnumber(this.adddstnumber.value).subscribe(function(t){console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),e.snackBar.open("DST Number Added Successfully!","",{duration:2e3}),e.adddstnumber.reset()},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)}):this.getErrorMessage(this.adddstnumber)}},{key:"getallips",value:function(){var e=this;this.userService.getallips().subscribe(function(t){console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),e.allips=t.data},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}},{key:"isFieldValid",value:function(e){return!this.adddstnumber.get(e).valid&&this.adddstnumber.get(e).touched}},{key:"getallstaff",value:function(){var e=this;this.userService.getallstaff().subscribe(function(t){console.log("%cstaff.component.ts line:238 response","color: white; background-color: #007acc;",t),e.allstaff=t.data},function(e){console.log(e)})}}]),t}()).\u0275fac=function(e){return new(e||F)(b.Ub(c.g),b.Ub(d.a),b.Ub(w.a))},F.\u0275cmp=b.Ob({type:F,selectors:[["add-dst-form"]],decls:32,vars:8,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"demo-full-width"],["formControlName","ip","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","assign","required",""],["cellspacing","0",1,"demo-full-width"],["type","number","matInput","","placeholder","991515000","formControlName","did_no","required",""],["formControlName","is_used",1,"st-chk",3,"value","change"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","mat-dialog-close","","color","primary","cdkFocusInitial","","type","submit",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(b.ac(0,"h2",0),b.Uc(1,"Add DST Number"),b.Zb(),b.ac(2,"form",1),b.ic("ngSubmit",function(){return t.submitdstnumber()}),b.ac(3,"mat-dialog-content"),b.ac(4,"mat-form-field",2),b.ac(5,"mat-label"),b.Uc(6,"IP"),b.Zb(),b.ac(7,"mat-select",3),b.Sc(8,q,2,2,"mat-option",4),b.Zb(),b.Sc(9,V,3,3,"mat-error",5),b.Zb(),b.ac(10,"mat-form-field",2),b.ac(11,"mat-label"),b.Uc(12,"Allot To"),b.Zb(),b.ac(13,"mat-select",6),b.Sc(14,N,2,3,"mat-option",4),b.Zb(),b.Sc(15,O,3,3,"mat-error",5),b.Zb(),b.ac(16,"table",7),b.ac(17,"tr"),b.ac(18,"td"),b.ac(19,"mat-form-field",2),b.ac(20,"mat-label"),b.Uc(21,"DST Number"),b.Zb(),b.Vb(22,"input",8),b.Sc(23,E,3,3,"mat-error",5),b.Zb(),b.Zb(),b.ac(24,"td"),b.ac(25,"mat-checkbox",9),b.ic("change",function(e){return t.checkboxChange(e.source,e.checked)}),b.Uc(26,"In Use "),b.Zb(),b.Zb(),b.Zb(),b.Zb(),b.Zb(),b.ac(27,"mat-dialog-actions"),b.ac(28,"button",10),b.Uc(29,"Cancel"),b.Zb(),b.ac(30,"button",11),b.Uc(31,"Submit"),b.Zb(),b.Zb(),b.Zb()),2&e&&(b.Hb(2),b.vc("formGroup",t.adddstnumber),b.Hb(6),b.vc("ngForOf",t.allips),b.Hb(1),b.vc("ngIf",t.adddstnumber.get("ip").invalid),b.Hb(5),b.vc("ngForOf",t.allstaff),b.Hb(1),b.vc("ngIf",t.adddstnumber.get("assign").invalid),b.Hb(8),b.vc("ngIf",t.adddstnumber.get("did_no").invalid),b.Hb(2),b.vc("value",t.falseValue),b.Hb(5),b.vc("disabled",t.adddstnumber.invalid))},directives:[r.j,c.z,c.s,c.l,r.g,S.c,S.g,k.a,c.r,c.j,c.x,v.o,v.p,c.v,x.b,c.d,Z.a,r.d,f.b,r.e,U.o,S.b],pipes:[C.d],styles:[L]}),F),W=((z=function(){function t(i,o,n,a,l){e(this,t),this.fb=i,this.userService=o,this.snackBar=n,this.dialogRef=a,this.data=l,this.falseValue="false",this.trueValue="true",console.log(l),this.editdstnumber=this.fb.group({ip:["",[c.y.required]],assign:[""],did_no:["",[c.y.required,c.y.min(1e7),c.y.max(99999999)]],inusestatus:[!1]})}return i(t,[{key:"ngOnInit",value:function(){var e,t,i,o,n,a,l,c,r,s,d,u,b,m,p;this.getallips(),this.getallstaff(),this.editdstnumber.setValue({ip:(null===(t=null===(e=this.data)||void 0===e?void 0:e.record)||void 0===t?void 0:t.ip)?null===(n=null===(o=null===(i=this.data)||void 0===i?void 0:i.record)||void 0===o?void 0:o.ip)||void 0===n?void 0:n._id:"null",assign:(null===(l=null===(a=this.data)||void 0===a?void 0:a.record)||void 0===l?void 0:l.giventolevel1)?null===(r=null===(c=this.data)||void 0===c?void 0:c.record)||void 0===r?void 0:r.giventolevel1:"null",did_no:(null===(d=null===(s=this.data)||void 0===s?void 0:s.record)||void 0===d?void 0:d.did_no)?null===(b=null===(u=this.data)||void 0===u?void 0:u.record)||void 0===b?void 0:b.did_no:"null",inusestatus:!!(null===(p=null===(m=this.data)||void 0===m?void 0:m.record)||void 0===p?void 0:p.inusestatus)})}},{key:"getErrorMessage",value:function(e){return e.get("did_no").hasError("required")?"validations.required":e.get("did_no").hasError("min")?"validations.min":e.get("did_no").hasError("max")?"validations.max":""}},{key:"getallips",value:function(){var e=this;this.userService.getallips().subscribe(function(t){console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),e.allips=t.data},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}},{key:"getallstaff",value:function(){var e=this;this.userService.getallstaff().subscribe(function(t){console.log("%cstaff.component.ts line:238 response","color: white; background-color: #007acc;",t),e.allstaff=t.data},function(e){console.log(e)})}},{key:"checkboxChange",value:function(e,t){e.value=t?this.trueValue:this.falseValue}},{key:"isFieldValid",value:function(e){return!this.editdstnumber.get(e).valid&&this.editdstnumber.get(e).touched}},{key:"submitdstnumber",value:function(){var e=this;console.log(this.editdstnumber.value),this.editdstnumber.valid?this.userService.editdstnumber(this.data.record._id,this.editdstnumber.value).subscribe(function(t){console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),e.snackBar.open("IP Edited Successfully!","",{duration:2e3}),e.editdstnumber.reset()},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)}):this.getErrorMessage(this.editdstnumber)}}]),t}()).\u0275fac=function(e){return new(e||z)(b.Ub(c.g),b.Ub(d.a),b.Ub(w.a),b.Ub(r.i),b.Ub(r.a))},z.\u0275cmp=b.Ob({type:z,selectors:[["edit-dst-form"]],decls:32,vars:8,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"demo-full-width"],["formControlName","ip","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","assign","required",""],["cellspacing","0",1,"demo-full-width"],["type","number","matInput","","placeholder","991515000","formControlName","did_no","required",""],["formControlName","inusestatus",1,"st-chk",3,"value","change"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","","type","submit",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(b.ac(0,"h2",0),b.Uc(1,"Edit DST Number"),b.Zb(),b.ac(2,"form",1),b.ic("ngSubmit",function(){return t.submitdstnumber()}),b.ac(3,"mat-dialog-content"),b.ac(4,"mat-form-field",2),b.ac(5,"mat-label"),b.Uc(6,"IP"),b.Zb(),b.ac(7,"mat-select",3),b.Sc(8,A,2,2,"mat-option",4),b.Zb(),b.Sc(9,P,3,3,"mat-error",5),b.Zb(),b.ac(10,"mat-form-field",2),b.ac(11,"mat-label"),b.Uc(12,"Allot To"),b.Zb(),b.ac(13,"mat-select",6),b.Sc(14,_,2,3,"mat-option",4),b.Zb(),b.Sc(15,D,3,3,"mat-error",5),b.Zb(),b.ac(16,"table",7),b.ac(17,"tr"),b.ac(18,"td"),b.ac(19,"mat-form-field",2),b.ac(20,"mat-label"),b.Uc(21,"DST Number"),b.Zb(),b.Vb(22,"input",8),b.Sc(23,R,3,3,"mat-error",5),b.Zb(),b.Zb(),b.ac(24,"td"),b.ac(25,"mat-checkbox",9),b.ic("change",function(e){return t.checkboxChange(e.source,e.checked)}),b.Uc(26,"In Use "),b.Zb(),b.Zb(),b.Zb(),b.Zb(),b.Zb(),b.ac(27,"mat-dialog-actions"),b.ac(28,"button",10),b.Uc(29,"Cancel"),b.Zb(),b.ac(30,"button",11),b.Uc(31,"Submit"),b.Zb(),b.Zb(),b.Zb()),2&e&&(b.Hb(2),b.vc("formGroup",t.editdstnumber),b.Hb(6),b.vc("ngForOf",t.allips),b.Hb(1),b.vc("ngIf",t.editdstnumber.get("ip").invalid),b.Hb(5),b.vc("ngForOf",t.allstaff),b.Hb(1),b.vc("ngIf",t.editdstnumber.get("assign").invalid),b.Hb(8),b.vc("ngIf",t.editdstnumber.get("did_no").invalid),b.Hb(2),b.vc("value",t.falseValue),b.Hb(5),b.vc("disabled",t.editdstnumber.invalid))},directives:[r.j,c.z,c.s,c.l,r.g,S.c,S.g,k.a,c.r,c.j,c.x,v.o,v.p,c.v,x.b,c.d,Z.a,r.d,f.b,r.e,U.o,S.b],pipes:[C.d],styles:[L]}),z),Y=n("HJYq");function B(e,t){1&e&&b.Uc(0),2&e&&b.Wc(" ",t.$implicit.name," ")}function J(e,t){if(1&e){var i=b.bc();b.ac(0,"button",7),b.ic("click",function(){return b.Jc(i),b.mc().openAddIp()}),b.ac(1,"mat-icon"),b.Uc(2,"add"),b.Zb(),b.Uc(3,"Add IP "),b.Zb(),b.ac(4,"input",8),b.ic("ngModelChange",function(e){return b.Jc(i),b.mc().filterSearch=e})("ngModelChange",function(e){return b.Jc(i),b.mc().searchData(e)}),b.Zb()}if(2&e){var o=b.mc();b.Hb(4),b.vc("ngModel",o.filterSearch)}}function $(e,t){if(1&e&&(b.ac(0,"button",9),b.Uc(1),b.Zb()),2&e){var i=t.$implicit;b.Hb(1),b.Vc(i.title)}}var K=function(e){return{title:e}},Q=function(){return[50,100,200,500]};function ee(e,t){1&e&&(b.ac(0,"mat-error"),b.Uc(1),b.nc(2,"translate"),b.Zb()),2&e&&(b.Hb(1),b.Wc(" ",b.oc(2,1,"validations.required")," "))}function te(e,t){if(1&e&&(b.ac(0,"mat-error"),b.Uc(1),b.Zb()),2&e){var i=b.mc();b.Hb(1),b.Wc(" ",i.getErrorMessage(i.addip)," ")}}function ie(e,t){1&e&&(b.ac(0,"mat-error"),b.Uc(1),b.nc(2,"translate"),b.Zb()),2&e&&(b.Hb(1),b.Wc(" ",b.oc(2,1,"validations.required")," "))}function oe(e,t){if(1&e&&(b.ac(0,"mat-error"),b.Uc(1),b.Zb()),2&e){var i=b.mc();b.Hb(1),b.Wc(" ",i.getErrorMessage(i.editip)," ")}}var ne,ae,le,ce=".demo-full-width[_ngcontent-%COMP%] {\n        width: 100%;\n      }",re=((le=function(){function t(i,o,n,a,l,r,s,d){var u=this;e(this,t),this.fb=i,this.userService=o,this.snackBar=n,this.translate=a,this.dateAdapter=l,this.dialog=r,this.cdr=s,this.dialogx=d,this.toggleeditrole=!0,this.falseValue="false",this.trueValue="true",this.columns=[{header:"IP",sortable:!0,field:"ipnumber"},{header:"Provider",sortable:!0,field:"title"},{header:"Active Status",field:"activestatus",type:"tag",tag:{true:{text:"Yes",color:"green-200"},false:{text:"No",color:"red-200"}}},{header:"Actions",field:"action",minWidth:120,width:"120px",pinned:"right",type:"button",buttons:[{type:"icon",icon:"edit",tooltip:"edit",click:function(e){return u.openEditIp(e)}},{color:"warn",icon:"delete",text:"delete",tooltip:"delete",pop:!0,popTitle:"Confirm Delete",popCloseText:"Cancel",popOkText:"Delete",click:function(e){return u.delete(e)}}]}],this.list=[],this.total=0,this.multiSelectable=!0,this.rowSelectable=!0,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!0,this.showPaginator=!0,this.expandable=!0,this.columnResizable=!1,this.displayedColumns=["ipnumber","title","activestatus","actions"],this.addipform=this.fb.group({ipnumber:["",[c.y.required]],title:["",[c.y.required]],activestatus:[!1]}),this.editipform=this.fb.group({ipnumber:["",[c.y.required]],title:["",[c.y.required]],activestatus:[!1]})}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.getallips(),this.translateSubscription=this.translate.onLangChange.subscribe(function(t){e.dateAdapter.setLocale(t.lang)})}},{key:"edit",value:function(e){this.dialogx.originalOpen(u.a,{width:"900px",data:{record:e}}).afterClosed().subscribe(function(){return console.log("The dialog was closed")})}},{key:"delete",value:function(e){var t=this;this.userService.deleteip(e._id).subscribe(function(i){console.log("%cips.component.ts line:248 response","color: #26bfa5;",i),t.isLoading=!1,t.getallips(),t.cdr.detectChanges(),t.dialogx.alert("You have deleted ".concat(e.title,"!"))},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}},{key:"getallips",value:function(){var e=this;this.userService.getallips().subscribe(function(t){console.log("%crole.component.ts line:311 response","color: #26bfa5;",t),e.list=t.data,e.total=t.data.length,e.isLoading=!1,e.cdr.detectChanges()},function(e){console.log("%cerror role.component.ts line:318 ","color: red; display: block; width: 100%;",e)})}},{key:"getErrorMessage",value:function(e){return e.get("ipnumber").hasError("required")||e.get("title").hasError("required")?"validations.required":""}},{key:"checkboxChange",value:function(e,t){e.value=t?this.trueValue:this.falseValue}},{key:"changeSelect",value:function(e){console.log(e)}},{key:"changeSort",value:function(e){console.log(e)}},{key:"submitipForm",value:function(){var e=this;console.log(this.addipform.value),this.userService.addip(this.addipform.value).subscribe(function(t){console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),e.snackBar.open("IP Added Successfully!","",{duration:2e3}),e.addipform.reset(),e.getallips()},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}},{key:"ngAfterViewInit",value:function(){this.isLoading=!0}},{key:"ngOnDestroy",value:function(){console.log("component destroyed")}},{key:"openAddIp",value:function(){var e=this;this.dialog.open(se,{width:"500px"}).afterClosed().subscribe(function(){e.getallips(),e.cdr.detectChanges()})}},{key:"openEditIp",value:function(e){var t=this;this.dialog.open(de,{width:"500px",data:{record:e}}).afterClosed().subscribe(function(){console.log("The edit dailog closed"),t.getallips()})}}]),t}()).\u0275fac=function(e){return new(e||le)(b.Ub(c.g),b.Ub(d.a),b.Ub(w.a),b.Ub(C.e),b.Ub(U.c),b.Ub(r.c),b.Ub(b.h),b.Ub(m.a))},le.\u0275cmp=b.Ob({type:le,selectors:[["app-ips"]],viewQuery:function(e,t){var i;1&e&&b.Yc(s.a,1),2&e&&b.Fc(i=b.jc())&&(t.paginator=i.first)},features:[b.Gb([Y.a])],decls:10,vars:25,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],[1,"mat-elevation-z8","r-4",3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","toolbarTemplate","columnHideable","columnMovable","expandable","cellTemplate","expansionTemplate","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","sortChange","selectionChange"],["expansionTpl",""],["toolbarTpl",""],["cityTpl",""],["mat-stroked-button","","color","primary",3,"click"],["placeholder","Start typing","type","text","autocomplete","off",1,"form-control",2,"padding","5px","margin","0px 2px","border","1px solid #d7d7d7","line-height","24px","border-radius","4px",3,"ngModel","ngModelChange"],["mat-flat-button",""]],template:function(e,t){if(1&e&&(b.Vb(0,"page-header",0),b.ac(1,"div",1),b.ac(2,"div",2),b.ac(3,"mtx-grid",3),b.ic("sortChange",function(e){return t.changeSort(e)})("selectionChange",function(e){return t.changeSelect(e)}),b.Zb(),b.Sc(4,B,1,1,"ng-template",null,4,b.Tc),b.Sc(6,J,5,1,"ng-template",null,5,b.Tc),b.Sc(8,$,2,1,"ng-template",null,6,b.Tc),b.Zb(),b.Zb()),2&e){var i=b.Gc(5),o=b.Gc(7),n=b.Gc(9);b.Hb(3),b.vc("data",t.list)("columns",t.columns)("loading",t.isLoading)("columnResizable",t.columnResizable)("multiSelectable",t.multiSelectable)("rowSelectable",t.rowSelectable)("hideRowSelectionCheckbox",t.hideRowSelectionCheckbox)("rowHover",t.rowHover)("rowStriped",t.rowStriped)("showToolbar",t.showToolbar)("toolbarTitle","IP")("toolbarTemplate",o)("columnHideable",t.columnHideable)("columnMovable",t.columnMovable)("expandable",t.expandable)("cellTemplate",b.zc(22,K,n))("expansionTemplate",i)("pageOnFront",t.showPaginator)("showPaginator",t.showPaginator)("pageSizeOptions",b.yc(24,Q))("pageIndex",0)("pageSize",50)}},directives:[p.a,h.a,f.b,g.a,c.d,c.r,c.u],styles:[""],changeDetection:0}),le),se=((ae=function(){function t(i,o,n){e(this,t),this.fb=i,this.userService=o,this.snackBar=n,this.falseValue="false",this.trueValue="true",this.addip=this.fb.group({ipnumber:["",[c.y.required,c.y.pattern("(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)")]],title:["",[c.y.required]],activestatus:[!1]})}return i(t,[{key:"ngOnInit",value:function(){}},{key:"getErrorMessage",value:function(e){return e.get("ipnumber").hasError("required")?"This field is required":e.get("ipnumber").hasError("pattern")?"Pattern doesnt match should be XXX.XXX.XXX.XXX.":""}},{key:"checkboxChange",value:function(e,t){e.value=t?this.trueValue:this.falseValue}},{key:"submitip",value:function(){var e=this;this.addip.valid?this.userService.addip(this.addip.value).subscribe(function(t){console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),e.snackBar.open("IP Added Successfully!","",{duration:2e3}),e.addip.reset()},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)}):this.getErrorMessage(this.addip)}},{key:"isFieldValid",value:function(e){return!this.addip.get(e).valid&&this.addip.get(e).touched}}]),t}()).\u0275fac=function(e){return new(e||ae)(b.Ub(c.g),b.Ub(d.a),b.Ub(w.a))},ae.\u0275cmp=b.Ob({type:ae,selectors:[["add-ip-form"]],decls:25,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"demo-full-width"],["type","text","matInput","","placeholder","Neron","formControlName","title","required",""],[4,"ngIf"],["cellspacing","0",1,"demo-full-width"],["type","text","matInput","","placeholder","xxx.xxx.xxx.xxx","formControlName","ipnumber","required",""],["formControlName","activestatus",1,"st-chk",3,"value","change"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","mat-dialog-close","","color","primary","cdkFocusInitial","","type","submit",3,"disabled"]],template:function(e,t){1&e&&(b.ac(0,"h2",0),b.Uc(1,"Add IP"),b.Zb(),b.ac(2,"form",1),b.ic("ngSubmit",function(){return t.submitip()}),b.ac(3,"mat-dialog-content"),b.ac(4,"mat-form-field",2),b.ac(5,"mat-label"),b.Uc(6,"Title"),b.Zb(),b.Vb(7,"input",3),b.Sc(8,ee,3,3,"mat-error",4),b.Zb(),b.ac(9,"table",5),b.ac(10,"tr"),b.ac(11,"td"),b.ac(12,"mat-form-field",2),b.ac(13,"mat-label"),b.Uc(14,"IP"),b.Zb(),b.Vb(15,"input",6),b.Sc(16,te,2,1,"mat-error",4),b.Zb(),b.Zb(),b.ac(17,"td"),b.ac(18,"mat-checkbox",7),b.ic("change",function(e){return t.checkboxChange(e.source,e.checked)}),b.Uc(19,"Active "),b.Zb(),b.Zb(),b.Zb(),b.Zb(),b.Zb(),b.ac(20,"mat-dialog-actions"),b.ac(21,"button",8),b.Uc(22,"Cancel"),b.Zb(),b.ac(23,"button",9),b.Uc(24,"Submit"),b.Zb(),b.Zb(),b.Zb()),2&e&&(b.Hb(2),b.vc("formGroup",t.addip),b.Hb(6),b.vc("ngIf",t.addip.get("title").invalid),b.Hb(8),b.vc("ngIf",t.addip.get("ipnumber").invalid),b.Hb(2),b.vc("value",t.falseValue),b.Hb(5),b.vc("disabled",t.addip.invalid))},directives:[r.j,c.z,c.s,c.l,r.g,S.c,S.g,x.b,c.d,c.r,c.j,c.x,v.p,Z.a,r.d,f.b,r.e,S.b],pipes:[C.d],styles:[ce]}),ae),de=((ne=function(){function t(i,o,n,a,l){e(this,t),this.fb=i,this.userService=o,this.snackBar=n,this.dialogRef=a,this.data=l,this.falseValue="false",this.trueValue="true",console.log(l),this.editip=this.fb.group({ipnumber:["",[c.y.required,c.y.pattern("(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)")]],title:["",[c.y.required]],activestatus:[!1]})}return i(t,[{key:"ngOnInit",value:function(){var e,t,i,o,n,a,l,c,r,s;this.editip.setValue({ipnumber:(null===(t=null===(e=this.data)||void 0===e?void 0:e.record)||void 0===t?void 0:t.ipnumber)?null===(o=null===(i=this.data)||void 0===i?void 0:i.record)||void 0===o?void 0:o.ipnumber:"null",title:(null===(a=null===(n=this.data)||void 0===n?void 0:n.record)||void 0===a?void 0:a.title)?null===(c=null===(l=this.data)||void 0===l?void 0:l.record)||void 0===c?void 0:c.title:"null",activestatus:!!(null===(s=null===(r=this.data)||void 0===r?void 0:r.record)||void 0===s?void 0:s.activestatus)})}},{key:"getErrorMessage",value:function(e){return e.get("ipnumber").hasError("required")?"This field is required":e.get("ipnumber").hasError("pattern")?"Pattern doesnt match should be XXX.XXX.XXX.XXX.":""}},{key:"getallips",value:function(){var e=this;this.userService.getallips().subscribe(function(t){console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),e.allips=t.data},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}},{key:"checkboxChange",value:function(e,t){e.value=t?this.trueValue:this.falseValue}},{key:"isFieldValid",value:function(e){return!this.editip.get(e).valid&&this.editip.get(e).touched}},{key:"submiteditip",value:function(){var e=this;console.log(this.editip.value),this.editip.valid?this.userService.editip(this.data.record._id,this.editip.value).subscribe(function(t){console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),e.snackBar.open("IP Edited Successfully!","",{duration:2e3}),e.editip.reset()},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)}):this.getErrorMessage(this.editip)}}]),t}()).\u0275fac=function(e){return new(e||ne)(b.Ub(c.g),b.Ub(d.a),b.Ub(w.a),b.Ub(r.i),b.Ub(r.a))},ne.\u0275cmp=b.Ob({type:ne,selectors:[["edit-ip-form"]],decls:25,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"demo-full-width"],["type","text","matInput","","placeholder","Neron","formControlName","title","required",""],[4,"ngIf"],["cellspacing","0",1,"demo-full-width"],["type","text","matInput","","placeholder","xxx.xxx.xxx.xxx","formControlName","ipnumber","required",""],["formControlName","activestatus",1,"st-chk",3,"value","change"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","mat-dialog-close","","color","primary","cdkFocusInitial","","type","submit",3,"disabled"]],template:function(e,t){1&e&&(b.ac(0,"h2",0),b.Uc(1,"Edit IP"),b.Zb(),b.ac(2,"form",1),b.ic("ngSubmit",function(){return t.submiteditip()}),b.ac(3,"mat-dialog-content"),b.ac(4,"mat-form-field",2),b.ac(5,"mat-label"),b.Uc(6,"Title"),b.Zb(),b.Vb(7,"input",3),b.Sc(8,ie,3,3,"mat-error",4),b.Zb(),b.ac(9,"table",5),b.ac(10,"tr"),b.ac(11,"td"),b.ac(12,"mat-form-field",2),b.ac(13,"mat-label"),b.Uc(14,"IP"),b.Zb(),b.Vb(15,"input",6),b.Sc(16,oe,2,1,"mat-error",4),b.Zb(),b.Zb(),b.ac(17,"td"),b.ac(18,"mat-checkbox",7),b.ic("change",function(e){return t.checkboxChange(e.source,e.checked)}),b.Uc(19,"Active "),b.Zb(),b.Zb(),b.Zb(),b.Zb(),b.Zb(),b.ac(20,"mat-dialog-actions"),b.ac(21,"button",8),b.Uc(22,"Cancel"),b.Zb(),b.ac(23,"button",9),b.Uc(24,"Submit"),b.Zb(),b.Zb(),b.Zb()),2&e&&(b.Hb(2),b.vc("formGroup",t.editip),b.Hb(6),b.vc("ngIf",t.editip.get("title").invalid),b.Hb(8),b.vc("ngIf",t.editip.get("ipnumber").invalid),b.Hb(2),b.vc("value",t.falseValue),b.Hb(5),b.vc("disabled",t.editip.invalid))},directives:[r.j,c.z,c.s,c.l,r.g,S.c,S.g,x.b,c.d,c.r,c.j,c.x,v.p,Z.a,r.d,f.b,r.e,S.b],pipes:[C.d],styles:[ce]}),ne),ue=n("Qu3c");function be(e,t){1&e&&(b.ac(0,"button",7),b.ac(1,"mat-icon",8),b.Uc(2,"delete"),b.Zb(),b.Zb())}function me(e,t){if(1&e){var i=b.bc();b.ac(0,"button",5),b.ic("click",function(){return b.Jc(i),b.mc().openAddDstNumber()}),b.ac(1,"mat-icon"),b.Uc(2,"add"),b.Zb(),b.Uc(3,"Add DST Number "),b.Zb(),b.Sc(4,be,3,0,"button",6)}if(2&e){var o=b.mc();b.Hb(4),b.vc("ngIf",o.showdeletebutton)}}var pe,he,fe,ge=function(){return[50,100,200,500]},ve=[{path:"dstnumber",component:G,canActivate:[l.b],data:{permissions:{only:["SUPERADMIN"],redirectTo:"/dashboard"}}},{path:"ips",component:re,canActivate:[l.b],data:{permissions:{only:["SUPERADMIN"],redirectTo:"/dashboard"}}},{path:"my-numbers",component:(pe=function(){function t(i,o,n,a){e(this,t),this.dialog=i,this.dialogx=o,this.userService=n,this.cdr=a,this.columns=[],this.list=[],this.total=0,this.isLoading=!0,this.multiSelectable=!0,this.rowSelectable=!0,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!0,this.showPaginator=!0,this.expandable=!0,this.columnResizable=!1}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.getallnumbers(),this.columns=[{header:"DID Number",sortable:!0,field:"did_no"},{header:"IP",sortable:!0,field:"ip.ipnumber"},{header:"Alloted to",field:"giventolevel1.firstname"},{header:"Active Status",field:"inusestatus",type:"tag",sortable:!0,tag:{true:{text:"Yes",color:"green-200"},false:{text:"No",color:"red-200"}}},{header:"Actions",field:"action",minWidth:180,width:"180px",pinned:"right",type:"button",buttons:[{type:"icon",color:"primary",icon:"visibility",tooltip:"view",click:function(t){return e.view(t)}},{color:"warn",icon:"delete",text:"delete",tooltip:"delete",pop:!0,popTitle:"Confirm Delete",popCloseText:"Cancel",popOkText:"Delete",click:function(t){return e.delete(t)}}]}]}},{key:"edit",value:function(e){this.dialogx.originalOpen(u.a,{width:"900px",data:{record:e}}).afterClosed().subscribe(function(){return console.log("The dialog was closed")})}},{key:"delete",value:function(e){var t=this;this.userService.deletenumber(e._id).subscribe(function(i){console.log("%cips.component.ts line:248 response","color: #26bfa5;",i),t.isLoading=!1,t.getallnumbers(),t.cdr.detectChanges(),t.dialogx.alert("You have deleted ".concat(e.dstnumber,"!"))},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}},{key:"view",value:function(e){console.log(e)}},{key:"changeSelect",value:function(e){console.log(e)}},{key:"changerowSelect",value:function(e){console.log(e),e.map(function(e){return console.log(e._id)}),this.showdeletebutton=!0}},{key:"changecellSelect",value:function(e){console.log(e)}},{key:"changeSort",value:function(e){console.log(e)}},{key:"getallnumbers",value:function(){var e=this;this.userService.mydstnumbers().subscribe(function(t){console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),e.list=t.data,e.total=t.data.length,e.isLoading=!1,e.cdr.detectChanges()},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}},{key:"ngAfterViewInit",value:function(){this.isLoading=!0}}]),t}(),pe.\u0275fac=function(e){return new(e||pe)(b.Ub(r.c),b.Ub(m.a),b.Ub(d.a),b.Ub(b.h))},pe.\u0275cmp=b.Ob({type:pe,selectors:[["app-number-list"]],viewQuery:function(e,t){var i;1&e&&b.Yc(s.a,1),2&e&&b.Fc(i=b.jc())&&(t.paginator=i.first)},decls:6,vars:21,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],[1,"mat-elevation-z8",3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","toolbarTemplate","columnHideable","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","sortChange","rowSelectionChange","cellSelectionChange"],["toolbarTpl",""],["mat-stroked-button","","color","primary",3,"click"],["matTooltip","Delete selected","mat-icon-button","","color","warn",4,"ngIf"],["matTooltip","Delete selected","mat-icon-button","","color","warn"],[1,"mat-18"]],template:function(e,t){if(1&e&&(b.Vb(0,"page-header",0),b.ac(1,"div",1),b.ac(2,"div",2),b.ac(3,"mtx-grid",3),b.ic("sortChange",function(e){return t.changeSort(e)})("rowSelectionChange",function(e){return t.changerowSelect(e)})("cellSelectionChange",function(e){return t.changecellSelect(e)}),b.Zb(),b.Sc(4,me,5,1,"ng-template",null,4,b.Tc),b.Zb(),b.Zb()),2&e){var i=b.Gc(5);b.Hb(3),b.vc("data",t.list)("columns",t.columns)("loading",t.isLoading)("columnResizable",t.columnResizable)("multiSelectable",t.multiSelectable)("rowSelectable",t.rowSelectable)("hideRowSelectionCheckbox",t.hideRowSelectionCheckbox)("rowHover",t.rowHover)("rowStriped",t.rowStriped)("showToolbar",t.showToolbar)("toolbarTitle","DST Number")("toolbarTemplate",i)("columnHideable",t.columnHideable)("columnMovable",t.columnMovable)("expandable",t.expandable)("pageOnFront",t.showPaginator)("showPaginator",t.showPaginator)("pageSizeOptions",b.yc(20,ge))("pageIndex",0)("pageSize",50)}},directives:[p.a,h.a,f.b,g.a,v.p,ue.a],styles:[""]}),pe),canActivate:[l.b],data:{permissions:{only:["SUPERADMIN","ADMIN","MANAGER","RESELLER"],redirectTo:"/dashboard"}}}],Se=((he=function t(){e(this,t)}).\u0275fac=function(e){return new(e||he)},he.\u0275mod=b.Sb({type:he}),he.\u0275inj=b.Rb({imports:[[a.j.forChild(ve)],a.j]}),he),ye=n("M0ag"),we=((fe=function t(){e(this,t)}).\u0275fac=function(e){return new(e||fe)},fe.\u0275mod=b.Sb({type:fe}),fe.\u0275inj=b.Rb({imports:[[ye.d,Se]]}),fe)}}])}();