!function(){function e(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function o(e,o){for(var t=0;t<o.length;t++){var a=o[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Lt7c:function(o,a,i){"use strict";i.r(a),i.d(a,"SubordinateModule",function(){return W});var l=i("PCNd"),n=i("tyNb"),r=i("xdv0"),c=i("fXoL"),d=i("0IaG"),s=i("r0g6"),u=i("tgey"),b=i("hGDI"),m=i("bTqV"),f=i("NFeN");function h(e,o){if(1&e){var t=c.bc();c.ac(0,"button",5),c.ic("click",function(){return c.Jc(t),c.mc().openAddDstNumber()}),c.ac(1,"mat-icon"),c.Uc(2,"add"),c.Zb(),c.Uc(3,"Add Agent "),c.Zb()}}var v,p=function(){return[50,100,200,500]},g=((v=function(){function o(t,a,i,l){e(this,o),this.dialog=t,this.dialogx=a,this.userService=i,this.cdr=l,this.columns=[],this.list=[],this.total=0,this.multiSelectable=!0,this.rowSelectable=!0,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!0,this.showPaginator=!0,this.expandable=!0,this.columnResizable=!1}return t(o,[{key:"ngOnInit",value:function(){}},{key:"changeSelect",value:function(e){console.log(e)}},{key:"changeSort",value:function(e){console.log(e)}}]),o}()).\u0275fac=function(e){return new(e||v)(c.Ub(d.c),c.Ub(s.a),c.Ub(r.a),c.Ub(c.h))},v.\u0275cmp=c.Ob({type:v,selectors:[["app-agent"]],decls:6,vars:21,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],[1,"mat-elevation-z8",3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","toolbarTemplate","columnHideable","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","sortChange","selectionChange"],["toolbarTpl",""],["mat-stroked-button","","color","primary",3,"click"]],template:function(e,o){if(1&e&&(c.Vb(0,"page-header",0),c.ac(1,"div",1),c.ac(2,"div",2),c.ac(3,"mtx-grid",3),c.ic("sortChange",function(e){return o.changeSort(e)})("selectionChange",function(e){return o.changeSelect(e)}),c.Zb(),c.Sc(4,h,4,0,"ng-template",null,4,c.Tc),c.Zb(),c.Zb()),2&e){var t=c.Gc(5);c.Hb(3),c.vc("data",o.list)("columns",o.columns)("loading",o.isLoading)("columnResizable",o.columnResizable)("multiSelectable",o.multiSelectable)("rowSelectable",o.rowSelectable)("hideRowSelectionCheckbox",o.hideRowSelectionCheckbox)("rowHover",o.rowHover)("rowStriped",o.rowStriped)("showToolbar",o.showToolbar)("toolbarTitle","Agent")("toolbarTemplate",t)("columnHideable",o.columnHideable)("columnMovable",o.columnMovable)("expandable",o.expandable)("pageOnFront",o.showPaginator)("showPaginator",o.showPaginator)("pageSizeOptions",c.yc(20,p))("pageIndex",0)("pageSize",50)}},directives:[u.a,b.a,m.b,f.a],styles:[""],changeDetection:0}),v),w=i("3Pt+"),S=i("dNgK"),y=i("XiUz"),x=i("kmnG"),k=i("qFsG"),C=i("ofXK"),Z=i("d3UM"),U=i("bSwM"),H=i("FKr1"),T=i("sYmb");function O(e,o){if(1&e){var t=c.bc();c.ac(0,"button",5),c.ic("click",function(){return c.Jc(t),c.mc().openSubordinate()}),c.ac(1,"mat-icon"),c.Uc(2,"add"),c.Zb(),c.Uc(3,"Add Subordinate "),c.Zb()}}var R=function(){return[50,100,200,500]};function z(e,o){1&e&&(c.ac(0,"mat-error"),c.Uc(1),c.nc(2,"translate"),c.Zb()),2&e&&(c.Hb(1),c.Wc(" ",c.oc(2,1,"validations.required")," "))}function I(e,o){1&e&&(c.ac(0,"mat-error"),c.Uc(1),c.nc(2,"translate"),c.Zb()),2&e&&(c.Hb(1),c.Wc(" ",c.oc(2,1,"validations.required")," "))}function q(e,o){1&e&&(c.ac(0,"mat-error"),c.Uc(1),c.nc(2,"translate"),c.Zb()),2&e&&(c.Hb(1),c.Wc(" ",c.oc(2,1,"validations.required")," "))}function M(e,o){1&e&&(c.ac(0,"mat-error"),c.Uc(1),c.nc(2,"translate"),c.Zb()),2&e&&(c.Hb(1),c.Wc(" ",c.oc(2,1,"validations.required")," "))}function N(e,o){if(1&e&&(c.ac(0,"mat-option",16),c.Uc(1),c.Zb()),2&e){var t=o.$implicit;c.vc("value",t._id),c.Hb(1),c.Wc(" ",null==t?null:t.name," ")}}function P(e,o){1&e&&(c.ac(0,"mat-error"),c.Uc(1),c.nc(2,"translate"),c.Zb()),2&e&&(c.Hb(1),c.Wc(" ",c.oc(2,1,"validations.required")," "))}var F,V,A,G,L=((V=function(){function o(t,a,i,l){e(this,o),this.dialog=t,this.dialogx=a,this.userService=i,this.cdr=l,this.columns=[],this.list=[],this.total=0,this.multiSelectable=!0,this.rowSelectable=!0,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!0,this.showPaginator=!0,this.expandable=!0,this.columnResizable=!1}return t(o,[{key:"ngOnInit",value:function(){var e=this;this.getallstaff(),this.columns=[{header:"Avatar",field:"staffimg",type:"image"},{header:"Name",field:"name",formatter:function(e){return"".concat(e.firstname," ").concat(e.lastname," ")}},{header:"Email",sortable:!0,field:"email"},{header:"Mobile",sortable:!0,field:"mobile"},{header:"Role",field:"role.name",formatter:function(e){var o;return'<span class="label">'.concat(null===(o=null==e?void 0:e.role)||void 0===o?void 0:o.name,"</span>")}},{header:"Added By",field:"added_by.firstname",formatter:function(e){var o;return'<span (click)="viewadmin()" class="admin-dy-class">'.concat(null===(o=null==e?void 0:e.added_by)||void 0===o?void 0:o.firstname,"</span>")}},{header:"Approved",field:"approvedstatus",type:"tag",tag:{true:{text:"Yes",color:"red-100"},false:{text:"No",color:"green-100"}}},{header:"Actions",field:"action",minWidth:120,width:"120px",pinned:"right",type:"button",buttons:[{type:"icon",icon:"edit",tooltip:"edit",click:function(o){return e.edit(o)}},{color:"warn",icon:"delete",text:"delete",tooltip:"delete",pop:!0,popTitle:"Confirm Delete",popCloseText:"Cancel",popOkText:"Delete",click:function(o){return e.delete(o)}}]}]}},{key:"edit",value:function(e){var o=this;this.dialog.open(_,{width:"500px",data:{record:e}}).afterClosed().subscribe(function(){console.log("The dialog was closed"),o.getallstaff()})}},{key:"delete",value:function(e){var o=this;this.userService.deletestaff(e._id).subscribe(function(t){console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),o.isLoading=!1,o.getallstaff(),o.cdr.detectChanges(),o.dialogx.alert("You have deleted ".concat(e.firstname," ").concat(e.lastname,"!"))},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}},{key:"changeSelect",value:function(e){console.log(e)}},{key:"changeSort",value:function(e){console.log(e)}},{key:"openSubordinate",value:function(){this.dialog.open(_,{width:"500px"}).afterClosed().subscribe(function(){console.log("Dailog Closed")})}},{key:"getallstaff",value:function(){var e=this;this.userService.viewadminstaff().subscribe(function(o){console.log("%cstaff.component.ts line:238 response","color: white; background-color: #007acc;",o),e.list=o.data,e.isLoading=!1,e.cdr.detectChanges()},function(e){console.log(e)})}}]),o}()).\u0275fac=function(e){return new(e||V)(c.Ub(d.c),c.Ub(s.a),c.Ub(r.a),c.Ub(c.h))},V.\u0275cmp=c.Ob({type:V,selectors:[["app-subordinates"]],decls:6,vars:21,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],[1,"mat-elevation-z8",3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","toolbarTemplate","columnHideable","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","sortChange","selectionChange"],["toolbarTpl",""],["mat-stroked-button","","color","primary",3,"click"]],template:function(e,o){if(1&e&&(c.Vb(0,"page-header",0),c.ac(1,"div",1),c.ac(2,"div",2),c.ac(3,"mtx-grid",3),c.ic("sortChange",function(e){return o.changeSort(e)})("selectionChange",function(e){return o.changeSelect(e)}),c.Zb(),c.Sc(4,O,4,0,"ng-template",null,4,c.Tc),c.Zb(),c.Zb()),2&e){var t=c.Gc(5);c.Hb(3),c.vc("data",o.list)("columns",o.columns)("loading",o.isLoading)("columnResizable",o.columnResizable)("multiSelectable",o.multiSelectable)("rowSelectable",o.rowSelectable)("hideRowSelectionCheckbox",o.hideRowSelectionCheckbox)("rowHover",o.rowHover)("rowStriped",o.rowStriped)("showToolbar",o.showToolbar)("toolbarTitle","Subordinate")("toolbarTemplate",t)("columnHideable",o.columnHideable)("columnMovable",o.columnMovable)("expandable",o.expandable)("pageOnFront",o.showPaginator)("showPaginator",o.showPaginator)("pageSizeOptions",c.yc(20,R))("pageIndex",0)("pageSize",50)}},directives:[u.a,b.a,m.b,f.a],styles:["[_nghost-%COMP%]     .label{padding:5px 10px;border-radius:999px;background-color:#ffb74d}[_nghost-%COMP%]     .admin-dy-class{padding:5px 10px;border-radius:5px;background-color:#6fcffc}"],changeDetection:0}),V),_=((F=function(){function o(t,a,i,l,n){var r,c,d,s,u,b,m,f,h,v,p,g,S,y,x,k,C,Z,U,H,T,O,R,z,I,q;e(this,o),this.fb=t,this.userService=a,this.snackBar=i,this.dialogRef=l,this.data=n,this.editmode=!1,this.falseValue="false",this.trueValue="true",this.addstaffform=this.fb.group({firstname:["",[w.y.required]],lastname:["",[w.y.required]],email:["",[w.y.required,w.y.email]],mobile:["",[w.y.required]],role:[{value:""},[w.y.required]],approvedstatus:[!1]}),n&&(console.log(n),this.editmode=!0,this.id=null===(c=null===(r=this.data)||void 0===r?void 0:r.record)||void 0===c?void 0:c._id,this.addstaffform.setValue({firstname:(null===(s=null===(d=this.data)||void 0===d?void 0:d.record)||void 0===s?void 0:s.firstname)?null===(b=null===(u=this.data)||void 0===u?void 0:u.record)||void 0===b?void 0:b.firstname:"null",lastname:(null===(f=null===(m=this.data)||void 0===m?void 0:m.record)||void 0===f?void 0:f.lastname)?null===(v=null===(h=this.data)||void 0===h?void 0:h.record)||void 0===v?void 0:v.lastname:"null",email:(null===(g=null===(p=this.data)||void 0===p?void 0:p.record)||void 0===g?void 0:g.email)?null===(y=null===(S=this.data)||void 0===S?void 0:S.record)||void 0===y?void 0:y.email:"null",mobile:(null===(k=null===(x=this.data)||void 0===x?void 0:x.record)||void 0===k?void 0:k.mobile)?null===(Z=null===(C=this.data)||void 0===C?void 0:C.record)||void 0===Z?void 0:Z.mobile:"null",role:(null===(H=null===(U=this.data)||void 0===U?void 0:U.record)||void 0===H?void 0:H.role)?null===(O=null===(T=this.data)||void 0===T?void 0:T.record)||void 0===O?void 0:O.role._id:"null",approvedstatus:!!(null===(z=null===(R=this.data)||void 0===R?void 0:R.record)||void 0===z?void 0:z.approvedstatus)&&(null===(q=null===(I=this.data)||void 0===I?void 0:I.record)||void 0===q?void 0:q.approvedstatus)}))}return t(o,[{key:"ngOnInit",value:function(){this.getallroles()}},{key:"submituserform",value:function(){console.log(this.addstaffform.value)}},{key:"getallroles",value:function(){var e=this;this.userService.getroleslowerthanme().subscribe(function(o){console.log(o),e.allroles=o.data},function(e){console.log(e)})}},{key:"checkboxChange",value:function(e,o){e.value=o?this.trueValue:this.falseValue,console.log(e.value)}}]),o}()).\u0275fac=function(e){return new(e||F)(c.Ub(w.g),c.Ub(r.a),c.Ub(S.a),c.Ub(d.i),c.Ub(d.a))},F.\u0275cmp=c.Ob({type:F,selectors:[["add-user-form"]],decls:44,vars:10,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],[1,"demo-full-width"],["type","text","matInput","","placeholder","John","formControlName","firstname","required",""],[4,"ngIf"],["type","text","matInput","","placeholder","Deo","formControlName","lastname","required",""],["type","email","matInput","","placeholder","example@gmail.com","formControlName","email","required",""],["type","number","matInput","","placeholder","9999999999","formControlName","mobile","required",""],["matSuffix",""],["formControlName","role","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","approvedstatus",1,"st-chk",3,"value","change"],["mat-raised-button","","mat-dialog-close","","cdkFocusInitial",""],["mat-raised-button","","mat-dialog-close","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(e,o){1&e&&(c.ac(0,"h2",0),c.Uc(1),c.Zb(),c.ac(2,"form",1),c.ic("ngSubmit",function(){return o.submituserform()}),c.ac(3,"mat-dialog-content"),c.ac(4,"div",2),c.ac(5,"div",3),c.ac(6,"mat-form-field",4),c.ac(7,"mat-label"),c.Uc(8,"First Name"),c.Zb(),c.Vb(9,"input",5),c.Sc(10,z,3,3,"mat-error",6),c.Zb(),c.Zb(),c.ac(11,"div",3),c.ac(12,"mat-form-field",4),c.ac(13,"mat-label"),c.Uc(14,"Last Name"),c.Zb(),c.Vb(15,"input",7),c.Sc(16,I,3,3,"mat-error",6),c.Zb(),c.Zb(),c.ac(17,"mat-form-field",4),c.ac(18,"mat-label"),c.Uc(19,"Email"),c.Zb(),c.Vb(20,"input",8),c.Sc(21,q,3,3,"mat-error",6),c.Zb(),c.ac(22,"mat-form-field",4),c.ac(23,"mat-label"),c.Uc(24,"Mobile"),c.Zb(),c.Vb(25,"input",9),c.ac(26,"mat-icon",10),c.Uc(27,"smartphone"),c.Zb(),c.Sc(28,M,3,3,"mat-error",6),c.Zb(),c.ac(29,"div",3),c.ac(30,"mat-form-field",4),c.ac(31,"mat-label"),c.Uc(32,"Select Role"),c.Zb(),c.ac(33,"mat-select",11),c.Sc(34,N,2,2,"mat-option",12),c.Zb(),c.Sc(35,P,3,3,"mat-error",6),c.Zb(),c.Zb(),c.ac(36,"div",3),c.ac(37,"mat-checkbox",13),c.ic("change",function(e){return o.checkboxChange(e.source,e.checked)}),c.Uc(38,"Approve "),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.ac(39,"mat-dialog-actions"),c.ac(40,"button",14),c.Uc(41,"Cancel"),c.Zb(),c.ac(42,"button",15),c.Uc(43," Submit "),c.Zb(),c.Zb(),c.Zb()),2&e&&(c.Hb(1),c.Vc(o.editmode?"Edit Subordinate":"Create Subordinate"),c.Hb(1),c.vc("formGroup",o.addstaffform),c.Hb(8),c.vc("ngIf",o.addstaffform.get("firstname").invalid),c.Hb(6),c.vc("ngIf",o.addstaffform.get("lastname").invalid),c.Hb(5),c.vc("ngIf",o.addstaffform.get("email").invalid),c.Hb(7),c.vc("ngIf",o.addstaffform.get("mobile").invalid),c.Hb(6),c.vc("ngForOf",o.allroles),c.Hb(1),c.vc("ngIf",o.addstaffform.get("role").invalid),c.Hb(2),c.vc("value",o.falseValue),c.Hb(5),c.vc("disabled",o.addstaffform.invalid))},directives:[d.j,w.z,w.s,w.l,d.g,y.c,y.d,y.a,x.c,x.g,k.b,w.d,w.r,w.j,w.x,C.p,w.v,f.a,x.j,Z.a,C.o,U.a,d.d,m.b,d.e,x.b,H.o],pipes:[T.d],styles:[".demo-full-width[_ngcontent-%COMP%] {\n        width: 100%;\n      }"]}),F),j=[{path:"subordinates",component:L},{path:"agent",component:g}],D=((G=function o(){e(this,o)}).\u0275fac=function(e){return new(e||G)},G.\u0275mod=c.Sb({type:G}),G.\u0275inj=c.Rb({imports:[[n.j.forChild(j)],n.j]}),G),W=((A=function o(){e(this,o)}).\u0275fac=function(e){return new(e||A)},A.\u0275mod=c.Sb({type:A}),A.\u0275inj=c.Rb({imports:[[l.a,D]]}),A)}}])}();