!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,o,a){return o&&t(e.prototype,o),a&&t(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{Gan4:function(t,a,i){"use strict";i.r(a),i.d(a,"StaffModule",function(){return ee});var n=i("tyNb"),l=i("3Pt+"),r=i("xdv0"),s=i("M9IT"),c=i("HJYq"),d=i("wwJg"),u=i("fXoL"),f=i("FKr1"),m=i("sYmb"),b=i("dNgK"),h=i("0IaG"),p=i("r0g6"),g=i("tgey"),v=i("hGDI"),y=i("bTqV"),w=i("NFeN"),x=i("kmnG"),k=i("qFsG"),S=i("ofXK"),C=i("bSwM");function Z(e,t){1&e&&u.Uc(0),2&e&&u.Wc(" ",t.$implicit.name," ")}function U(e,t){if(1&e){var o=u.bc();u.ac(0,"button",6),u.ic("click",function(){return u.Jc(o),u.mc().openRole()()}),u.ac(1,"mat-icon"),u.Uc(2,"add"),u.Zb(),u.Uc(3,"Add Role "),u.Zb(),u.ac(4,"input",7),u.ic("ngModelChange",function(e){return u.Jc(o),u.mc().filterSearch=e})("ngModelChange",function(e){return u.Jc(o),u.mc().searchData(e)}),u.Zb()}if(2&e){var a=u.mc();u.Hb(4),u.vc("ngModel",a.filterSearch)}}var q=function(){return[5,10,50,100]},_=function(){return{standalone:!0}};function M(e,t){if(1&e){var o=u.bc();u.ac(0,"div"),u.ac(1,"mat-checkbox",14),u.ic("ngModelChange",function(e){return t.$implicit.completed=e})("change",function(){u.Jc(o);var e=t.$implicit;return u.mc(2).updateAllComplete(e)}),u.Uc(2),u.Zb(),u.Zb()}if(2&e){var a=t.$implicit;u.Hb(1),u.vc("ngModel",a.completed)("ngModelOptions",u.yc(3,_)),u.Hb(1),u.Wc(" ",a.name," ")}}function O(e,t){if(1&e){var o=u.bc();u.ac(0,"div",8),u.ac(1,"fieldset",9),u.ac(2,"legend",10),u.ac(3,"mat-checkbox",11),u.ic("change",function(e){u.Jc(o);var a=t.$implicit;return u.mc().setAllCompleted(a.subtasks,e.checked)}),u.Uc(4),u.Zb(),u.Zb(),u.ac(5,"div",12),u.Sc(6,M,3,4,"div",13),u.Zb(),u.Zb(),u.Zb()}if(2&e){var a=t.$implicit,i=u.mc();u.Hb(3),u.vc("value",a.completed)("checked",i.allComplete(a))("indeterminate",i.someComplete(a.subtasks)),u.Hb(1),u.Wc(" ",a.name," "),u.Hb(2),u.vc("ngForOf",a.subtasks)}}var T,H,P,V=((H=function(){function t(o,a,i,n,r,s,c,d,u){var f=this;e(this,t),this.remoteSrv=o,this.fb=a,this.dateAdapter=i,this.translate=n,this.userService=r,this.snackBar=s,this.dialog=c,this.dialogx=d,this.cdr=u,this.q={username:"",email:"",gender:""},this.toggleeditrole=!0,this.query={q:"user:nzbin",sort:"stars",order:"desc",page:0,per_page:10},this.falseValue="false",this.trueValue="true",this.columns=[{header:"Name",sortable:!0,field:"name"},{header:"Status",sortable:!0,field:"status"},{header:"Read Call Details",field:"r_calldetails",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Write Call Details",field:"w_calldetails",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Read IVR",field:"r_ivr",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Write IVR",field:"w_ivr",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Read SIP",field:"r_sip",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Write SIP",field:"w_sip",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Read User Details",field:"r_userdetails",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Write User Details",field:"w_userdetails",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Actions",field:"action",minWidth:120,width:"120px",pinned:"right",type:"button",buttons:[{type:"icon",icon:"edit",tooltip:"edit",click:function(e){return f.edit(e)}},{color:"warn",icon:"delete",text:"delete",tooltip:"delete",pop:!0,popTitle:"Confirm Delete",popCloseText:"Cancel",popOkText:"Delete",click:function(e){return f.delete(e)}}]}],this.list=[],this.total=0,this.multiSelectable=!1,this.rowSelectable=!1,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!1,this.showPaginator=!0,this.expandable=!0,this.columnResizable=!1,this.displayedColumns=["role","r_calldetails","w_calldetails","r_userdetails","w_userdetails","r_sip","w_sip","r_ivr","w_ivr","actions"],this.reactiveForm1=this.fb.group({username:["",[l.y.required]],gender:["",[l.y.required]],mobile:["",[l.y.required]],email:["",[l.y.required,l.y.email]],city:[""],address:[""],company:[""],tele:[""],website:[""],date:[""]}),this.addroleform=this.fb.group({name:["",[l.y.required]],r_calldetails:[!1],w_calldetails:[!1],r_userdetails:[!1],w_userdetails:[!1],r_sip:[!1],w_sip:[!1],r_ivr:[!1],w_ivr:[!1]})}return o(t,[{key:"params",get:function(){var e=Object.assign({},this.query);return e.page+=1,e}},{key:"ngOnInit",value:function(){var e=this;this.getData(),this.getallroles(),this.translateSubscription=this.translate.onLangChange.subscribe(function(t){e.dateAdapter.setLocale(t.lang)})}},{key:"ngAfterViewInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.translateSubscription.unsubscribe()}},{key:"getErrorMessage",value:function(e){return e.get("name").hasError("required")?"validations.required":e.get("email").hasError("email")?"validations.invalid_email":""}},{key:"editrole",value:function(){console.log("button clicked"),this.toggleeditrole=0==this.toggleeditrole}},{key:"editonerole",value:function(e){this.toggleeditrole=!1,this.userService.viewonerole(e).subscribe(function(e){console.log(e)},function(e){console.log(e)})}},{key:"deleteonerole",value:function(e){this.snackBar.open("Operation not allowed","",{duration:2e3})}},{key:"submitroleForm",value:function(){var e=this;console.log(this.addroleform.value),this.userService.addrole(this.addroleform.value).subscribe(function(t){console.log(t),e.snackBar.open("Role Added Successfully!","",{duration:2e3}),e.addroleform.reset(),e.getallroles()},function(e){console.log(e)})}},{key:"checkboxChange",value:function(e,t){e.value=t?this.trueValue:this.falseValue}},{key:"getallroles",value:function(){var e=this;this.userService.getallroles().subscribe(function(t){console.log("%crole.component.ts line:311 response","color: #26bfa5;",t),e.list=t.data,e.total=t.data.length,e.isLoading=!1,e.cdr.detectChanges()},function(e){console.log("%cerror role.component.ts line:318 ","color: red; display: block; width: 100%;",e)})}},{key:"canceledit",value:function(){console.log("Cancel Requested")}},{key:"getData",value:function(){var e=this;this.isLoading=!0,this.remoteSrv.getData(this.params).subscribe(function(t){e.total=t.total_count,e.isLoading=!1,e.cdr.detectChanges()},function(){e.isLoading=!1,e.cdr.detectChanges()},function(){e.isLoading=!1,e.cdr.detectChanges()})}},{key:"edit",value:function(e){this.dialogx.originalOpen(d.a,{width:"90%",data:{record:e}}).afterClosed().subscribe(function(){return console.log("The dialog was closed")})}},{key:"delete",value:function(e){this.dialogx.alert("You have deleted ".concat(e.position,"!"))}},{key:"changeSelect",value:function(e){console.log(e)}},{key:"changeSort",value:function(e){console.log(e)}},{key:"openRole",value:function(){var e=this;this.dialog.open(R,{width:"1000px"}).afterClosed().subscribe(function(){e.getallroles()})}}]),t}()).\u0275fac=function(e){return new(e||H)(u.Ub(c.a),u.Ub(l.g),u.Ub(f.c),u.Ub(m.e),u.Ub(r.a),u.Ub(b.a),u.Ub(h.c),u.Ub(p.a),u.Ub(u.h))},H.\u0275cmp=u.Ob({type:H,selectors:[["app-role"]],viewQuery:function(e,t){var o;1&e&&u.Yc(s.a,1),2&e&&u.Fc(o=u.jc())&&(t.paginator=o.first)},features:[u.Gb([c.a])],decls:8,vars:22,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],[1,"mat-elevation-z8",3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","columnHideable","columnMovable","expandable","expansionTemplate","toolbarTemplate","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","sortChange","selectionChange"],["expansionTpl",""],["toolbarTpl",""],["mat-stroked-button","","color","primary",3,"click"],["placeholder","Start typing","type","text","autocomplete","off",1,"form-control",2,"padding","5px","margin","0px 2px","border","1px solid #d7d7d7","line-height","24px","border-radius","4px",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(u.Vb(0,"page-header",0),u.ac(1,"div",1),u.ac(2,"div",2),u.ac(3,"mtx-grid",3),u.ic("sortChange",function(e){return t.changeSort(e)})("selectionChange",function(e){return t.changeSelect(e)}),u.Zb(),u.Sc(4,Z,1,1,"ng-template",null,4,u.Tc),u.Sc(6,U,5,1,"ng-template",null,5,u.Tc),u.Zb(),u.Zb()),2&e){var o=u.Gc(5),a=u.Gc(7);u.Hb(3),u.vc("data",t.list)("columns",t.columns)("loading",t.isLoading)("columnResizable",t.columnResizable)("multiSelectable",t.multiSelectable)("rowSelectable",t.rowSelectable)("hideRowSelectionCheckbox",t.hideRowSelectionCheckbox)("rowHover",t.rowHover)("rowStriped",t.rowStriped)("showToolbar",t.showToolbar)("toolbarTitle","Role & Permissions")("columnHideable",t.columnHideable)("columnMovable",t.columnMovable)("expandable",t.expandable)("expansionTemplate",o)("toolbarTemplate",a)("pageOnFront",t.showPaginator)("showPaginator",t.showPaginator)("pageSizeOptions",u.yc(21,q))("pageIndex",0)("pageSize",50)}},directives:[g.a,v.a,y.b,w.a,l.d,l.r,l.u],styles:[".st-chk[_ngcontent-%COMP%]{width:50%;float:left;padding:6px 0}"],changeDetection:0}),H),R=((T=function(){function t(o,a,i){e(this,t),this.fb=o,this.userService=a,this.snackBar=i,this.falseValue="false",this.trueValue="true",this.tasks=[{name:"Enquiry",completed:!1,subtasks:[{name:"View Enquiry",completed:!1},{name:"Followup Enquiry",completed:!1}]},{name:"Manage Staff",completed:!1,subtasks:[{name:"View Staff",completed:!1},{name:"Add Staff",completed:!1},{name:"Edit Staff",completed:!1},{name:"Delete Staff",completed:!1}]},{name:"DST Numbers",completed:!1,subtasks:[{name:"View DST Numbers",completed:!1},{name:"Add DST Numbers",completed:!1},{name:"Edit DST Numbers",completed:!1},{name:"Delete DST Numbers",completed:!1}]},{name:"IPs",completed:!1,subtasks:[{name:"View IPs",completed:!1},{name:"Add IPs",completed:!1},{name:"Edit IPs",completed:!1},{name:"Delete IPs",completed:!1}]},{name:"Plan",completed:!1,subtasks:[{name:"View Plan",completed:!1},{name:"Add Plan",completed:!1},{name:"Edit Plan",completed:!1},{name:"Delete Plan",completed:!1}]},{name:"Chat",completed:!1,subtasks:[{name:"View Chat",completed:!1},{name:"Delete Chat",completed:!1}]}],this.addroleform=this.fb.group({ip:["",[l.y.required]],dstnumber:["",[l.y.required,l.y.min(1e9),l.y.max(9999999999)]],inusestatus:[!1]})}return o(t,[{key:"ngOnInit",value:function(){this.getallips()}},{key:"allComplete",value:function(e){var t=e.subtasks;return e.completed||null!=t&&t.every(function(e){return e.completed})}},{key:"someComplete",value:function(e){var t=e.filter(function(e){return e.completed}).length;return t>0&&t<e.length}},{key:"setAllCompleted",value:function(e,t){e.forEach(function(e){return e.completed=t})}},{key:"updateAllComplete",value:function(e){console.log(e)}},{key:"getErrorMessage",value:function(e){return e.get("dstnumber").hasError("required")?"validations.required":e.get("dstnumber").hasError("min")?"validations.min":e.get("dstnumber").hasError("max")?"validations.max":""}},{key:"checkboxChange",value:function(e,t){e.value=t?this.trueValue:this.falseValue}},{key:"submitdstnumber",value:function(){this.addroleform.valid?console.log(this.addroleform.value):(this.getErrorMessage(this.addroleform),console.log(this.getErrorMessage(this.addroleform)))}},{key:"getallips",value:function(){var e=this;this.userService.getallips().subscribe(function(t){console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),e.allips=t.data},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}},{key:"isFieldValid",value:function(e){return!this.addroleform.get(e).valid&&this.addroleform.get(e).touched}}]),t}()).\u0275fac=function(e){return new(e||T)(u.Ub(l.g),u.Ub(r.a),u.Ub(b.a))},T.\u0275cmp=u.Ob({type:T,selectors:[["add-role-form"]],decls:17,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"demo-full-width"],["matInput","","placeholder","Admin","required","","formControlName","dstnumber"],[1,"r-24"],["class","st-mb",4,"ngFor","ngForOf"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","mat-dialog-close","","color","primary","cdkFocusInitial","","type","submit"],[1,"st-mb"],[1,"st-set"],[1,"st-leg"],["color","primary",3,"value","checked","indeterminate","change"],[1,"demo-sub-list"],[4,"ngFor","ngForOf"],["color","primary",3,"ngModel","ngModelOptions","ngModelChange","change"]],template:function(e,t){1&e&&(u.ac(0,"h2",0),u.Uc(1,"Add Roles"),u.Zb(),u.ac(2,"form",1),u.ic("ngSubmit",function(){return t.submitdstnumber()}),u.ac(3,"mat-dialog-content"),u.ac(4,"mat-form-field",2),u.ac(5,"mat-label"),u.Uc(6,"Title"),u.Zb(),u.Vb(7,"input",3),u.Zb(),u.ac(8,"section",4),u.ac(9,"h4"),u.Uc(10,"Permissions"),u.Zb(),u.Sc(11,O,7,5,"div",5),u.Zb(),u.Zb(),u.ac(12,"mat-dialog-actions"),u.ac(13,"button",6),u.Uc(14,"Cancel"),u.Zb(),u.ac(15,"button",7),u.Uc(16,"Submit"),u.Zb(),u.Zb(),u.Zb()),2&e&&(u.Hb(2),u.vc("formGroup",t.addroleform),u.Hb(9),u.vc("ngForOf",t.tasks))},directives:[h.j,l.z,l.s,l.l,h.g,x.c,x.g,k.b,l.d,l.x,l.r,l.j,S.o,h.d,y.b,h.e,C.a,l.u],styles:[".demo-full-width[_ngcontent-%COMP%] {\n        width: 100%;\n      }\n\n      .demo-sub-list[_ngcontent-%COMP%] {\n        margin-left: 20px;\n\n        input[type='checkbox'] {\n          visibility: hidden;\n          &:checked + label {\n            transform: rotate(360deg);\n            background-color: #000;\n            &:before {\n              transform: translateX(90px);\n              background-color: #fff;\n            }\n          }\n        }\n\n        label {\n          display: flex;\n          width: 180px;\n          height: 90px;\n          border: 6px solid;\n          border-radius: 99em;\n          position: relative;\n          transition: transform 0.75s ease-in-out;\n          transform-origin: 50% 50%;\n          cursor: pointer;\n\n          &:before {\n            transition: transform 0.75s ease;\n            transition-delay: 0.5s;\n            content: '';\n            display: block;\n            position: absolute;\n            width: 54px;\n            height: 54px;\n            background-color: #000;\n            border-radius: 50%;\n            top: 12px;\n            left: 12px;\n          }\n        }\n      }","fieldset.st-set[_ngcontent-%COMP%] {\n    padding: 15px;\n    border-radius: 5px;\n    border-color: #2196f35e  !important;\n}\nlegend.st-leg[_ngcontent-%COMP%] {\n    font-size: 16px;\n}\n.st-mb.ng-star-inserted[_ngcontent-%COMP%] {\n    margin-bottom: 15px;\n}\nfieldset.st-set[_ngcontent-%COMP%] {\n    width: 295px;\n    float: left;\n    height: 180px;\n    margin: 10px;\n}"]}),T),F=i("tk/3"),N=((P=function(){function t(o){e(this,t),this.http=o}return o(t,[{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("https://api.github.com/search/repositories",{params:e})}}]),t}()).\u0275fac=function(e){return new(e||P)(u.ec(F.c))},P.\u0275prov=u.Qb({token:P,factory:P.\u0275fac}),P),D=i("XiUz"),A=i("d3UM");function E(e,t){1&e&&u.Uc(0),2&e&&u.Wc(" ",t.$implicit.name," ")}function I(e,t){if(1&e){var o=u.bc();u.ac(0,"button",6),u.ic("click",function(){return u.Jc(o),u.mc().openAddStaff()}),u.ac(1,"mat-icon"),u.Uc(2,"add"),u.Zb(),u.Uc(3,"Add Staff "),u.Zb(),u.ac(4,"input",7),u.ic("ngModelChange",function(e){return u.Jc(o),u.mc().filterSearch=e})("ngModelChange",function(e){return u.Jc(o),u.mc().searchData(e)}),u.Zb()}if(2&e){var a=u.mc();u.Hb(4),u.vc("ngModel",a.filterSearch)}}var z=function(){return[50,100,200,500]};function L(e,t){if(1&e&&(u.ac(0,"mat-option",16),u.Uc(1),u.Zb()),2&e){var o=t.$implicit;u.vc("value",o._id),u.Hb(1),u.Wc(" ",null==o?null:o.name," ")}}function G(e,t){if(1&e&&(u.ac(0,"mat-option",16),u.Uc(1),u.Zb()),2&e){var o=t.$implicit;u.vc("value",o._id),u.Hb(1),u.Xc(" ",null==o?null:o.firstname," ",null==o?null:o.lastname," ")}}var W,Y,j,J,B=((Y=function(){function t(o,a,i,n,r,s,c){e(this,t),this.remoteSrv=o,this.fb=a,this.cdr=i,this.userService=n,this.dialog=r,this.dialogx=s,this.snackBar=c,this.columns=[],this.list=[],this.total=0,this.isLoading=!0,this.multiSelectable=!1,this.rowSelectable=!1,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!0,this.showPaginator=!0,this.expandable=!1,this.columnResizable=!1,this.query={q:"user:nzbin",sort:"stars",order:"desc",page:0,per_page:10},this.falseValue="false",this.trueValue="true",this.addstaffform=this.fb.group({firstname:["",[l.y.required]],lastname:["",[l.y.required]],email:["",[l.y.required,l.y.email]],mobile:["",[l.y.required]],password:["",[l.y.required]],role:["",[l.y.required]],approvedstatus:[!1]})}return o(t,[{key:"params",get:function(){var e=Object.assign({},this.query);return e.page+=1,e}},{key:"ngOnInit",value:function(){var e=this;this.getallroles(),this.getallstaff(),this.columns=[{header:"Avatar",field:"staffimg",type:"image"},{header:"Name",field:"name",formatter:function(e){return"".concat(e.firstname," ").concat(e.lastname," ")}},{header:"Email",sortable:!0,field:"email"},{header:"Mobile",sortable:!0,field:"mobile"},{header:"Role",field:"role.name",formatter:function(e){return'<span class="label">'.concat(e.role.name,"</span>")}},{header:"Added By",field:"added_by.firstname",formatter:function(e){var t;return'<span (click)="viewadmin()" class="admin-dy-class">'.concat(null===(t=null==e?void 0:e.added_by)||void 0===t?void 0:t.firstname,"</span>")}},{header:"Approved",field:"approvedstatus",type:"tag",tag:{true:{text:"Yes",color:"red-100"},false:{text:"No",color:"green-100"}}},{header:"Actions",field:"action",minWidth:120,width:"120px",pinned:"right",type:"button",buttons:[{type:"icon",icon:"edit",tooltip:"edit",click:function(t){return e.edit(t)}},{color:"warn",icon:"delete",text:"delete",tooltip:"delete",pop:!0,popTitle:"Confirm Delete",popCloseText:"Cancel",popOkText:"Delete",click:function(t){return e.delete(t)}}]}]}},{key:"searchData",value:function(e){e?this.filteredData=this.list.filter(function(t){return t.firstname.toLowerCase().includes(e.toLowerCase())||t.lastname.toLowerCase().includes(e.toLowerCase())||t.email.toLowerCase().includes(e.toLowerCase())}):(this.filteredData=null,this.getallstaff())}},{key:"edit",value:function(e){var t=this;this.dialog.open($,{width:"500px",data:{record:e}}).afterClosed().subscribe(function(){console.log("The dialog was closed"),t.getallstaff()})}},{key:"delete",value:function(e){var t=this;this.userService.deletestaff(e._id).subscribe(function(o){console.log("%cips.component.ts line:248 response","color: #26bfa5;",o),t.isLoading=!1,t.getallstaff(),t.cdr.detectChanges(),t.dialogx.alert("You have deleted ".concat(e.firstname," ").concat(e.lastname,"!"))},function(e){console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}},{key:"changeSelect",value:function(e){console.log(e)}},{key:"changeSort",value:function(e){console.log(e)}},{key:"viewadmin",value:function(){console.log("radha ganj")}},{key:"enableRowExpandable",value:function(){this.columns[0].showExpand=this.expandable}},{key:"checkboxChange",value:function(e,t){e.value=t?this.trueValue:this.falseValue,console.log(e.value)}},{key:"getallroles",value:function(){var e=this;this.userService.getallroles().subscribe(function(t){console.log(t),e.allroles=t.data},function(e){console.log(e)})}},{key:"openAddStaff",value:function(){var e=this;this.dialog.open($,{width:"500px"}).afterClosed().subscribe(function(){console.log("closed"),e.getallstaff(),e.getallstaff(),e.getallstaff()})}},{key:"submitstaffForm",value:function(){var e=this;console.log(this.addstaffform.value),this.userService.addstaff(this.addstaffform.value).subscribe(function(t){console.log(t),e.snackBar.open("Staff Added Successfully!","",{duration:2e3}),e.addstaffform.reset(),e.addstaffform.markAsUntouched(),console.log(e.addstaffform.getError),e.getallstaff()},function(e){console.log(e)})}},{key:"getallstaff",value:function(){var e=this;this.userService.getallstaff().subscribe(function(t){console.log("%cstaff.component.ts line:238 response","color: white; background-color: #007acc;",t),e.list=t.data,e.isLoading=!1,e.cdr.detectChanges()},function(e){console.log(e)})}},{key:"ngAfterViewInit",value:function(){this.isLoading=!1}}]),t}()).\u0275fac=function(e){return new(e||Y)(u.Ub(N),u.Ub(l.g),u.Ub(u.h),u.Ub(r.a),u.Ub(h.c),u.Ub(p.a),u.Ub(b.a))},Y.\u0275cmp=u.Ob({type:Y,selectors:[["app-staff"]],features:[u.Gb([N])],decls:9,vars:22,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],[1,"mat-elevation-z8","r-4",3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","toolbarTemplate","columnHideable","columnMovable","expandable","expansionTemplate","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","sortChange","selectionChange"],["expansionTpl",""],["toolbarTpl",""],["mat-stroked-button","","color","primary",3,"click"],["placeholder","Start typing","type","text","autocomplete","off",1,"form-control",2,"padding","5px","margin","0px 2px","border","1px solid #d7d7d7","line-height","24px","border-radius","4px",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(u.Vb(0,"page-header",0),u.ac(1,"section"),u.ac(2,"div",1),u.ac(3,"div",2),u.ac(4,"mtx-grid",3),u.ic("sortChange",function(e){return t.changeSort(e)})("selectionChange",function(e){return t.changeSelect(e)}),u.Zb(),u.Sc(5,E,1,1,"ng-template",null,4,u.Tc),u.Sc(7,I,5,1,"ng-template",null,5,u.Tc),u.Zb(),u.Zb(),u.Zb()),2&e){var o=u.Gc(6),a=u.Gc(8);u.Hb(4),u.vc("data",t.filteredData||t.list)("columns",t.columns)("loading",t.isLoading)("columnResizable",t.columnResizable)("multiSelectable",t.multiSelectable)("rowSelectable",t.rowSelectable)("hideRowSelectionCheckbox",t.hideRowSelectionCheckbox)("rowHover",t.rowHover)("rowStriped",t.rowStriped)("showToolbar",t.showToolbar)("toolbarTitle","Staff")("toolbarTemplate",a)("columnHideable",t.columnHideable)("columnMovable",t.columnMovable)("expandable",t.expandable)("expansionTemplate",o)("pageOnFront",t.showPaginator)("showPaginator",t.showPaginator)("pageSizeOptions",u.yc(21,z))("pageIndex",0)("pageSize",50)}},directives:[g.a,v.a,y.b,w.a,l.d,l.r,l.u],styles:["[_nghost-%COMP%]     .mtx-grid{height:480px}.mat-header-cell[_ngcontent-%COMP%]{color:rgba(0,0,0,.54);font-size:14px!important}.st-chk[_ngcontent-%COMP%]{width:50%;float:left;padding:6px 0}[_nghost-%COMP%]     .label{padding:5px 10px;border-radius:999px;background-color:#ffb74d}[_nghost-%COMP%]     .admin-dy-class{padding:5px 10px;border-radius:5px;background-color:#6fcffc}"],changeDetection:0}),Y),$=((W=function(){function t(o,a,i,n,r){var s,c,d,u,f,m,b,h,p,g,v,y,w,x,k,S,C,Z,U,q,_,M,O,T,H,P,V,R,F,N,D,A,E,I,z;e(this,t),this.fb=o,this.userService=a,this.snackBar=i,this.dialogRef=n,this.data=r,this.editmode=!1,this.falseValue="false",this.trueValue="true",this.addstaffform=this.fb.group({firstname:["",[l.y.required]],lastname:["",[l.y.required]],email:["",[l.y.required,l.y.email]],mobile:["",[l.y.required]],password:["",[l.y.required]],role:["",[l.y.required]],added_by:["",[l.y.required]],approvedstatus:[!1]}),r&&(console.log(r),this.editmode=!0,this.id=null===(c=null===(s=this.data)||void 0===s?void 0:s.record)||void 0===c?void 0:c._id,this.addstaffform.setValue({firstname:(null===(u=null===(d=this.data)||void 0===d?void 0:d.record)||void 0===u?void 0:u.firstname)?null===(m=null===(f=this.data)||void 0===f?void 0:f.record)||void 0===m?void 0:m.firstname:"null",lastname:(null===(h=null===(b=this.data)||void 0===b?void 0:b.record)||void 0===h?void 0:h.lastname)?null===(g=null===(p=this.data)||void 0===p?void 0:p.record)||void 0===g?void 0:g.lastname:"null",email:(null===(y=null===(v=this.data)||void 0===v?void 0:v.record)||void 0===y?void 0:y.email)?null===(x=null===(w=this.data)||void 0===w?void 0:w.record)||void 0===x?void 0:x.email:"null",mobile:(null===(S=null===(k=this.data)||void 0===k?void 0:k.record)||void 0===S?void 0:S.mobile)?null===(Z=null===(C=this.data)||void 0===C?void 0:C.record)||void 0===Z?void 0:Z.mobile:"null",password:(null===(q=null===(U=this.data)||void 0===U?void 0:U.record)||void 0===q?void 0:q.password)?null===(M=null===(_=this.data)||void 0===_?void 0:_.record)||void 0===M?void 0:M.password:"null",role:(null===(T=null===(O=this.data)||void 0===O?void 0:O.record)||void 0===T?void 0:T.role)?null===(P=null===(H=this.data)||void 0===H?void 0:H.record)||void 0===P?void 0:P.role._id:"null",added_by:(null===(R=null===(V=this.data)||void 0===V?void 0:V.record)||void 0===R?void 0:R.added_by)?null===(D=null===(N=null===(F=this.data)||void 0===F?void 0:F.record)||void 0===N?void 0:N.added_by)||void 0===D?void 0:D._id:"null",approvedstatus:!!(null===(E=null===(A=this.data)||void 0===A?void 0:A.record)||void 0===E?void 0:E.approvedstatus)&&(null===(z=null===(I=this.data)||void 0===I?void 0:I.record)||void 0===z?void 0:z.approvedstatus)}))}return o(t,[{key:"ngOnInit",value:function(){this.getallroles(),this.getallstaff()}},{key:"getErrorMessage",value:function(e){return e.get("firstname").hasError("required")||e.get("lastname").hasError("required")||e.get("email").hasError("required")?"validations.required":""}},{key:"submitstaffForm",value:function(){var e=this;this.editmode?(console.log(this.addstaffform.value),this.userService.editstaff(this.id,this.addstaffform.value).subscribe(function(t){console.log(t),e.snackBar.open("User Edited Successfully!","",{duration:2e3}),e.addstaffform.reset()},function(e){console.log(e)})):this.addstaffform.valid?(console.log(this.addstaffform.value),this.userService.addstaff(this.addstaffform.value).subscribe(function(t){console.log(t),e.snackBar.open("Staff Added Successfully!","",{duration:2e3}),e.addstaffform.reset(),e.addstaffform.markAsUntouched()},function(e){console.log(e)})):this.getErrorMessage(this.addstaffform)}},{key:"getallroles",value:function(){var e=this;this.userService.getallroles().subscribe(function(t){console.log(t),e.allroles=t.data},function(e){console.log(e)})}},{key:"checkboxChange",value:function(e,t){e.value=t?this.trueValue:this.falseValue,console.log(e.value)}},{key:"getallstaff",value:function(){var e=this;this.userService.getallstaff().subscribe(function(t){console.log("%cstaff.component.ts line:238 response","color: white; background-color: #007acc;",t),e.allstaff=t.data},function(e){console.log(e)})}}]),t}()).\u0275fac=function(e){return new(e||W)(u.Ub(l.g),u.Ub(r.a),u.Ub(b.a),u.Ub(h.i),u.Ub(h.a))},W.\u0275cmp=u.Ob({type:W,selectors:[["add-staff-form"]],decls:65,vars:21,consts:[["mat-dialog-title",""],[1,"form-field-full",3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],["type","text","matInput","","placeholder","First Name","formControlName","firstname","required",""],["type","text","matInput","","placeholder","Last Name","formControlName","lastname","required",""],["fxFlex","100","fxFlex.lt-sm","100"],["type","text","matInput","","placeholder","Email","formControlName","email","required",""],["type","number","matInput","","placeholder","Mobile","formControlName","mobile","required",""],["type","password","matInput","","placeholder","Password","formControlName","password","required",""],["formControlName","role","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","added_by","required",""],["formControlName","approvedstatus",1,"st-chk",3,"value","change"],["mat-raised-button","","mat-dialog-close","","cdkFocusInitial",""],["mat-raised-button","","mat-dialog-close","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(u.ac(0,"h2",0),u.Uc(1),u.Zb(),u.ac(2,"form",1),u.ic("ngSubmit",function(){return t.submitstaffForm()}),u.ac(3,"mat-dialog-content"),u.ac(4,"div",2),u.ac(5,"div",3),u.ac(6,"mat-form-field"),u.ac(7,"mat-label"),u.Uc(8,"First Name"),u.Zb(),u.Vb(9,"input",4),u.ac(10,"mat-error"),u.Uc(11),u.nc(12,"translate"),u.Zb(),u.Zb(),u.Zb(),u.ac(13,"div",3),u.ac(14,"mat-form-field"),u.ac(15,"mat-label"),u.Uc(16,"Last Name"),u.Zb(),u.Vb(17,"input",5),u.ac(18,"mat-error"),u.Uc(19),u.nc(20,"translate"),u.Zb(),u.Zb(),u.Zb(),u.ac(21,"div",6),u.ac(22,"mat-form-field"),u.ac(23,"mat-label"),u.Uc(24,"Email"),u.Zb(),u.Vb(25,"input",7),u.ac(26,"mat-error"),u.Uc(27),u.nc(28,"translate"),u.Zb(),u.Zb(),u.Zb(),u.ac(29,"div",6),u.ac(30,"mat-form-field"),u.ac(31,"mat-label"),u.Uc(32,"Mobile"),u.Zb(),u.Vb(33,"input",8),u.ac(34,"mat-error"),u.Uc(35),u.nc(36,"translate"),u.Zb(),u.Zb(),u.Zb(),u.ac(37,"div",6),u.ac(38,"mat-form-field"),u.ac(39,"mat-label"),u.Uc(40,"Password"),u.Zb(),u.Vb(41,"input",9),u.ac(42,"mat-error"),u.Uc(43),u.nc(44,"translate"),u.Zb(),u.Zb(),u.Zb(),u.ac(45,"div",3),u.ac(46,"mat-form-field"),u.ac(47,"mat-label"),u.Uc(48,"Select Role"),u.Zb(),u.ac(49,"mat-select",10),u.Sc(50,L,2,2,"mat-option",11),u.Zb(),u.Zb(),u.Zb(),u.ac(51,"div",3),u.ac(52,"mat-form-field"),u.ac(53,"mat-label"),u.Uc(54,"Add By"),u.Zb(),u.ac(55,"mat-select",12),u.Sc(56,G,2,3,"mat-option",11),u.Zb(),u.Zb(),u.Zb(),u.ac(57,"div",3),u.ac(58,"mat-checkbox",13),u.ic("change",function(e){return t.checkboxChange(e.source,e.checked)}),u.Uc(59,"Approve "),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.ac(60,"mat-dialog-actions"),u.ac(61,"button",14),u.Uc(62,"Cancel"),u.Zb(),u.ac(63,"button",15),u.Uc(64," Submit "),u.Zb(),u.Zb(),u.Zb()),2&e&&(u.Hb(1),u.Vc(t.editmode?"Edit Staff":"Add Staff"),u.Hb(1),u.vc("formGroup",t.addstaffform),u.Hb(9),u.Wc(" ",u.oc(12,11,"validations.required")," "),u.Hb(8),u.Wc(" ",u.oc(20,13,"validations.required")," "),u.Hb(8),u.Wc(" ",u.oc(28,15,"validations.required")," "),u.Hb(8),u.Wc(" ",u.oc(36,17,"validations.required")," "),u.Hb(8),u.Wc(" ",u.oc(44,19,"validations.required")," "),u.Hb(7),u.vc("ngForOf",t.allroles),u.Hb(6),u.vc("ngForOf",t.allstaff),u.Hb(2),u.vc("value",t.falseValue),u.Hb(5),u.vc("disabled",t.addstaffform.invalid))},directives:[h.j,l.z,l.s,l.l,h.g,D.c,D.d,D.a,x.c,x.g,k.b,l.d,l.r,l.j,l.x,x.b,l.v,A.a,S.o,C.a,h.d,y.b,h.e,f.o],pipes:[m.d],styles:[".demo-full-width[_ngcontent-%COMP%] {\n        width: 100%;\n      }"]}),W),X=[{path:"role",component:V},{path:"staff",component:B}],K=((j=function t(){e(this,t)}).\u0275fac=function(e){return new(e||j)},j.\u0275mod=u.Sb({type:j}),j.\u0275inj=u.Rb({imports:[[n.j.forChild(X)],n.j]}),j),Q=i("M0ag"),ee=((J=function t(){e(this,t)}).\u0275fac=function(e){return new(e||J)},J.\u0275mod=u.Sb({type:J}),J.\u0275inj=u.Rb({imports:[[Q.c,K]]}),J)}}])}();