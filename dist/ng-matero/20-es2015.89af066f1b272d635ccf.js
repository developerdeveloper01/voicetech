(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{Gan4:function(e,t,a){"use strict";a.r(t),a.d(t,"StaffModule",function(){return L});var o=a("tyNb"),i=a("3Pt+"),l=a("xdv0"),r=a("M9IT"),s=a("HJYq"),n=a("wwJg"),c=a("fXoL"),d=a("FKr1"),m=a("sYmb"),b=a("dNgK"),u=a("0IaG"),h=a("r0g6"),p=a("tgey"),g=a("bTqV"),f=a("NFeN"),x=a("hGDI"),v=a("kmnG"),w=a("qFsG"),S=a("ofXK"),y=a("bSwM");function Z(e,t){1&e&&c.Uc(0),2&e&&c.Wc(" ",t.$implicit.name," ")}const C=function(){return[5,10,50,100]},k=function(){return{standalone:!0}};function U(e,t){if(1&e){const e=c.bc();c.ac(0,"div"),c.ac(1,"mat-checkbox",14),c.ic("ngModelChange",function(e){return t.$implicit.completed=e})("change",function(){c.Jc(e);const a=t.$implicit;return c.mc(2).updateAllComplete(a)}),c.Uc(2),c.Zb(),c.Zb()}if(2&e){const e=t.$implicit;c.Hb(1),c.vc("ngModel",e.completed)("ngModelOptions",c.yc(3,k)),c.Hb(1),c.Wc(" ",e.name," ")}}function q(e,t){if(1&e){const e=c.bc();c.ac(0,"div",8),c.ac(1,"fieldset",9),c.ac(2,"legend",10),c.ac(3,"mat-checkbox",11),c.ic("change",function(a){c.Jc(e);const o=t.$implicit;return c.mc().setAllCompleted(o.subtasks,a.checked)}),c.Uc(4),c.Zb(),c.Zb(),c.ac(5,"div",12),c.Sc(6,U,3,4,"div",13),c.Zb(),c.Zb(),c.Zb()}if(2&e){const e=t.$implicit,a=c.mc();c.Hb(3),c.vc("value",e.completed)("checked",a.allComplete(e))("indeterminate",a.someComplete(e.subtasks)),c.Hb(1),c.Wc(" ",e.name," "),c.Hb(2),c.vc("ngForOf",e.subtasks)}}let M=(()=>{class e{constructor(e,t,a,o,l,r,s,n,c){this.remoteSrv=e,this.fb=t,this.dateAdapter=a,this.translate=o,this.userService=l,this.snackBar=r,this.dialog=s,this.dialogx=n,this.cdr=c,this.q={username:"",email:"",gender:""},this.toggleeditrole=!0,this.query={q:"user:nzbin",sort:"stars",order:"desc",page:0,per_page:10},this.falseValue="false",this.trueValue="true",this.columns=[{header:"Name",sortable:!0,field:"name",showExpand:!0},{header:"Status",sortable:!0,field:"status"},{header:"Read Call Details",field:"r_calldetails",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Write Call Details",field:"w_calldetails",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Read IVR",field:"r_ivr",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Write IVR",field:"w_ivr",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Read SIP",field:"r_sip",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Write SIP",field:"w_sip",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Read User Details",field:"r_userdetails",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Write User Details",field:"w_userdetails",type:"tag",tag:{true:{text:"Yes",color:"green-100"},false:{text:"No",color:"red-100"}}},{header:"Actions",field:"action",minWidth:120,width:"120px",pinned:"right",type:"button",buttons:[{type:"icon",icon:"edit",tooltip:"edit",click:e=>this.edit(e)},{color:"warn",icon:"delete",text:"delete",tooltip:"delete",pop:!0,popTitle:"Confirm Delete",popCloseText:"Cancel",popOkText:"Delete",click:e=>this.delete(e)}]}],this.list=[],this.total=0,this.multiSelectable=!0,this.rowSelectable=!0,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!1,this.showPaginator=!0,this.expandable=!0,this.columnResizable=!0,this.displayedColumns=["role","r_calldetails","w_calldetails","r_userdetails","w_userdetails","r_sip","w_sip","r_ivr","w_ivr","actions"],this.reactiveForm1=this.fb.group({username:["",[i.y.required]],gender:["",[i.y.required]],mobile:["",[i.y.required]],email:["",[i.y.required,i.y.email]],city:[""],address:[""],company:[""],tele:[""],website:[""],date:[""]}),this.addroleform=this.fb.group({name:["",[i.y.required]],r_calldetails:[!1],w_calldetails:[!1],r_userdetails:[!1],w_userdetails:[!1],r_sip:[!1],w_sip:[!1],r_ivr:[!1],w_ivr:[!1]})}get params(){const e=Object.assign({},this.query);return e.page+=1,e}ngOnInit(){this.getData(),this.getallroles(),this.translateSubscription=this.translate.onLangChange.subscribe(e=>{this.dateAdapter.setLocale(e.lang)})}ngAfterViewInit(){}ngOnDestroy(){this.translateSubscription.unsubscribe()}getErrorMessage(e){return e.get("name").hasError("required")?"validations.required":e.get("email").hasError("email")?"validations.invalid_email":""}editrole(){console.log("button clicked"),this.toggleeditrole=0==this.toggleeditrole}editonerole(e){this.toggleeditrole=!1,this.userService.viewonerole(e).subscribe(e=>{console.log(e)},e=>{console.log(e)})}deleteonerole(e){this.snackBar.open("Operation not allowed","",{duration:2e3})}submitroleForm(){console.log(this.addroleform.value),this.userService.addrole(this.addroleform.value).subscribe(e=>{console.log(e),this.snackBar.open("Role Added Successfully!","",{duration:2e3}),this.addroleform.reset(),this.getallroles()},e=>{console.log(e)})}checkboxChange(e,t){e.value=t?this.trueValue:this.falseValue}getallroles(){this.userService.getallroles().subscribe(e=>{console.log("%crole.component.ts line:311 response","color: #26bfa5;",e),this.list=e.data,this.total=e.data.length,this.isLoading=!1,this.cdr.detectChanges()},e=>{console.log("%cerror role.component.ts line:318 ","color: red; display: block; width: 100%;",e)})}canceledit(){console.log("Cancel Requested")}getData(){this.isLoading=!0,this.remoteSrv.getData(this.params).subscribe(e=>{this.total=e.total_count,this.isLoading=!1,this.cdr.detectChanges()},()=>{this.isLoading=!1,this.cdr.detectChanges()},()=>{this.isLoading=!1,this.cdr.detectChanges()})}edit(e){this.dialogx.originalOpen(n.a,{width:"90%",data:{record:e}}).afterClosed().subscribe(()=>console.log("The dialog was closed"))}delete(e){this.dialogx.alert(`You have deleted ${e.position}!`)}changeSelect(e){console.log(e)}changeSort(e){console.log(e)}openRole(){this.dialog.open(_,{width:"1000px"}).afterClosed().subscribe(()=>{this.getallroles()})}}return e.\u0275fac=function(t){return new(t||e)(c.Ub(s.a),c.Ub(i.g),c.Ub(d.c),c.Ub(m.e),c.Ub(l.a),c.Ub(b.a),c.Ub(u.c),c.Ub(h.a),c.Ub(c.h))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-role"]],viewQuery:function(e,t){if(1&e&&c.Yc(r.a,1),2&e){let e;c.Fc(e=c.jc())&&(t.paginator=e.first)}},features:[c.Gb([s.a])],decls:12,vars:21,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],[1,"data-grid-options"],["mat-raised-button","","color","primary",2,"border-radius","30px","padding","5px","margin","5px","float","right",3,"click"],["color","white",2,"margin-left","8px"],[2,"margin-right","8px","padding","5px","margin-bottom","10px"],[1,"mat-elevation-z8",3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","columnHideable","columnMovable","expandable","expansionTemplate","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","sortChange","selectionChange"],["expansionTpl",""]],template:function(e,t){if(1&e&&(c.Vb(0,"page-header",0),c.ac(1,"div",1),c.ac(2,"div",2),c.ac(3,"div",3),c.ac(4,"button",4),c.ic("click",function(){return t.openRole()}),c.ac(5,"mat-icon",5),c.Uc(6,"add"),c.Zb(),c.ac(7,"span",6),c.Uc(8,"Add Role "),c.Zb(),c.Zb(),c.Zb(),c.ac(9,"mtx-grid",7),c.ic("sortChange",function(e){return t.changeSort(e)})("selectionChange",function(e){return t.changeSelect(e)}),c.Zb(),c.Sc(10,Z,1,1,"ng-template",null,8,c.Tc),c.Zb(),c.Zb()),2&e){const e=c.Gc(11);c.Hb(9),c.vc("data",t.list)("columns",t.columns)("loading",t.isLoading)("columnResizable",t.columnResizable)("multiSelectable",t.multiSelectable)("rowSelectable",t.rowSelectable)("hideRowSelectionCheckbox",t.hideRowSelectionCheckbox)("rowHover",t.rowHover)("rowStriped",t.rowStriped)("showToolbar",t.showToolbar)("toolbarTitle","Role & Permissions")("columnHideable",t.columnHideable)("columnMovable",t.columnMovable)("expandable",t.expandable)("expansionTemplate",e)("pageOnFront",t.showPaginator)("showPaginator",t.showPaginator)("pageSizeOptions",c.yc(20,C))("pageIndex",0)("pageSize",50)}},directives:[p.a,g.b,f.a,x.a],styles:[".st-chk[_ngcontent-%COMP%]{width:50%;float:left;padding:6px 0}"],changeDetection:0}),e})(),_=(()=>{class e{constructor(e,t,a){this.fb=e,this.userService=t,this.snackBar=a,this.falseValue="false",this.trueValue="true",this.tasks=[{name:"Enquiry",completed:!1,subtasks:[{name:"View Enquiry",completed:!1},{name:"Followup Enquiry",completed:!1}]},{name:"Manage Staff",completed:!1,subtasks:[{name:"View Staff",completed:!1},{name:"Add Staff",completed:!1},{name:"Edit Staff",completed:!1},{name:"Delete Staff",completed:!1}]},{name:"DST Numbers",completed:!1,subtasks:[{name:"View DST Numbers",completed:!1},{name:"Add DST Numbers",completed:!1},{name:"Edit DST Numbers",completed:!1},{name:"Delete DST Numbers",completed:!1}]},{name:"IPs",completed:!1,subtasks:[{name:"View IPs",completed:!1},{name:"Add IPs",completed:!1},{name:"Edit IPs",completed:!1},{name:"Delete IPs",completed:!1}]},{name:"Plan",completed:!1,subtasks:[{name:"View Plan",completed:!1},{name:"Add Plan",completed:!1},{name:"Edit Plan",completed:!1},{name:"Delete Plan",completed:!1}]},{name:"Chat",completed:!1,subtasks:[{name:"View Chat",completed:!1},{name:"Delete Chat",completed:!1}]}],this.addroleform=this.fb.group({ip:["",[i.y.required]],dstnumber:["",[i.y.required,i.y.min(1e9),i.y.max(9999999999)]],inusestatus:[!1]})}ngOnInit(){this.getallips()}allComplete(e){const t=e.subtasks;return e.completed||null!=t&&t.every(e=>e.completed)}someComplete(e){const t=e.filter(e=>e.completed).length;return t>0&&t<e.length}setAllCompleted(e,t){e.forEach(e=>e.completed=t)}updateAllComplete(e){console.log(e)}getErrorMessage(e){return e.get("dstnumber").hasError("required")?"validations.required":e.get("dstnumber").hasError("min")?"validations.min":e.get("dstnumber").hasError("max")?"validations.max":""}checkboxChange(e,t){e.value=t?this.trueValue:this.falseValue}submitdstnumber(){this.addroleform.valid?console.log(this.addroleform.value):(this.getErrorMessage(this.addroleform),console.log(this.getErrorMessage(this.addroleform)))}getallips(){this.userService.getallips().subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.allips=e.data},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}isFieldValid(e){return!this.addroleform.get(e).valid&&this.addroleform.get(e).touched}}return e.\u0275fac=function(t){return new(t||e)(c.Ub(i.g),c.Ub(l.a),c.Ub(b.a))},e.\u0275cmp=c.Ob({type:e,selectors:[["add-role-form"]],decls:17,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"demo-full-width"],["matInput","","placeholder","Admin","required","","formControlName","dstnumber"],[1,"r-24"],["class","st-mb",4,"ngFor","ngForOf"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","mat-dialog-close","","color","primary","cdkFocusInitial","","type","submit"],[1,"st-mb"],[1,"st-set"],[1,"st-leg"],["color","primary",3,"value","checked","indeterminate","change"],[1,"demo-sub-list"],[4,"ngFor","ngForOf"],["color","primary",3,"ngModel","ngModelOptions","ngModelChange","change"]],template:function(e,t){1&e&&(c.ac(0,"h2",0),c.Uc(1,"Add Roles"),c.Zb(),c.ac(2,"form",1),c.ic("ngSubmit",function(){return t.submitdstnumber()}),c.ac(3,"mat-dialog-content"),c.ac(4,"mat-form-field",2),c.ac(5,"mat-label"),c.Uc(6,"Title"),c.Zb(),c.Vb(7,"input",3),c.Zb(),c.ac(8,"section",4),c.ac(9,"h4"),c.Uc(10,"Permissions"),c.Zb(),c.Sc(11,q,7,5,"div",5),c.Zb(),c.Zb(),c.ac(12,"mat-dialog-actions"),c.ac(13,"button",6),c.Uc(14,"Cancel"),c.Zb(),c.ac(15,"button",7),c.Uc(16,"Submit"),c.Zb(),c.Zb(),c.Zb()),2&e&&(c.Hb(2),c.vc("formGroup",t.addroleform),c.Hb(9),c.vc("ngForOf",t.tasks))},directives:[u.j,i.z,i.s,i.l,u.g,v.c,v.g,w.b,i.d,i.x,i.r,i.j,S.o,u.d,g.b,u.e,y.a,i.u],styles:[".demo-full-width[_ngcontent-%COMP%] {\n        width: 100%;\n      }\n\n      .demo-sub-list[_ngcontent-%COMP%] {\n        margin-left: 20px;\n\n        input[type='checkbox'] {\n          visibility: hidden;\n          &:checked + label {\n            transform: rotate(360deg);\n            background-color: #000;\n            &:before {\n              transform: translateX(90px);\n              background-color: #fff;\n            }\n          }\n        }\n\n        label {\n          display: flex;\n          width: 180px;\n          height: 90px;\n          border: 6px solid;\n          border-radius: 99em;\n          position: relative;\n          transition: transform 0.75s ease-in-out;\n          transform-origin: 50% 50%;\n          cursor: pointer;\n\n          &:before {\n            transition: transform 0.75s ease;\n            transition-delay: 0.5s;\n            content: '';\n            display: block;\n            position: absolute;\n            width: 54px;\n            height: 54px;\n            background-color: #000;\n            border-radius: 50%;\n            top: 12px;\n            left: 12px;\n          }\n        }\n      }","fieldset.st-set[_ngcontent-%COMP%] {\n    padding: 15px;\n    border-radius: 5px;\n    border-color: #2196f35e  !important;\n}\nlegend.st-leg[_ngcontent-%COMP%] {\n    font-size: 16px;\n}\n.st-mb.ng-star-inserted[_ngcontent-%COMP%] {\n    margin-bottom: 15px;\n}\nfieldset.st-set[_ngcontent-%COMP%] {\n    width: 295px;\n    float: left;\n    height: 180px;\n    margin: 10px;\n}"]}),e})();var O=a("tk/3");let P=(()=>{class e{constructor(e){this.http=e}getData(e={}){return this.http.get("https://api.github.com/search/repositories",{params:e})}}return e.\u0275fac=function(t){return new(t||e)(c.ec(O.c))},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac}),e})();var H=a("Wp6s"),R=a("XiUz"),T=a("d3UM");function N(e,t){if(1&e&&(c.ac(0,"mat-option",25),c.Uc(1),c.Zb()),2&e){const e=t.$implicit;c.vc("value",e._id),c.Hb(1),c.Wc(" ",null==e?null:e.name," ")}}function V(e,t){if(1&e){const e=c.bc();c.ac(0,"mat-card",8),c.ac(1,"fieldset",9),c.ac(2,"legend",10),c.Uc(3,"Add Staff"),c.Zb(),c.ac(4,"form",11),c.ic("ngSubmit",function(){return c.Jc(e),c.mc().submitstaffForm()}),c.ac(5,"div",12),c.ac(6,"div",13),c.ac(7,"mat-form-field"),c.ac(8,"mat-label"),c.Uc(9,"First Name"),c.Zb(),c.Vb(10,"input",14),c.ac(11,"mat-error"),c.Uc(12),c.nc(13,"translate"),c.Zb(),c.Zb(),c.Zb(),c.ac(14,"div",13),c.ac(15,"mat-form-field"),c.ac(16,"mat-label"),c.Uc(17,"Last Name"),c.Zb(),c.Vb(18,"input",15),c.ac(19,"mat-error"),c.Uc(20),c.nc(21,"translate"),c.Zb(),c.Zb(),c.Zb(),c.ac(22,"div",16),c.ac(23,"mat-form-field"),c.ac(24,"mat-label"),c.Uc(25,"Email"),c.Zb(),c.Vb(26,"input",17),c.ac(27,"mat-error"),c.Uc(28),c.nc(29,"translate"),c.Zb(),c.Zb(),c.Zb(),c.ac(30,"div",16),c.ac(31,"mat-form-field"),c.ac(32,"mat-label"),c.Uc(33,"Mobile"),c.Zb(),c.Vb(34,"input",18),c.ac(35,"mat-error"),c.Uc(36),c.nc(37,"translate"),c.Zb(),c.Zb(),c.Zb(),c.ac(38,"div",16),c.ac(39,"mat-form-field"),c.ac(40,"mat-label"),c.Uc(41,"Password"),c.Zb(),c.Vb(42,"input",19),c.ac(43,"mat-error"),c.Uc(44),c.nc(45,"translate"),c.Zb(),c.Zb(),c.Zb(),c.ac(46,"div",13),c.ac(47,"mat-form-field"),c.ac(48,"mat-label"),c.Uc(49,"Select Role"),c.Zb(),c.ac(50,"mat-select",20),c.Sc(51,N,2,2,"mat-option",21),c.Zb(),c.Zb(),c.Zb(),c.ac(52,"div",13),c.ac(53,"mat-checkbox",22),c.ic("change",function(t){return c.Jc(e),c.mc().checkboxChange(t.source,t.checked)}),c.Uc(54,"Approve "),c.Zb(),c.Zb(),c.Zb(),c.ac(55,"button",23),c.Uc(56,"Save"),c.Zb(),c.ac(57,"button",24),c.ic("click",function(){return c.Jc(e),c.mc().editstaffchk()}),c.Uc(58,"Edit"),c.Zb(),c.Zb(),c.Zb(),c.Zb()}if(2&e){const e=c.mc();c.Hb(4),c.vc("formGroup",e.addstaffform),c.Hb(8),c.Wc(" ",c.oc(13,8,"validations.required")," "),c.Hb(8),c.Wc(" ",c.oc(21,10,"validations.required")," "),c.Hb(8),c.Wc(" ",c.oc(29,12,"validations.required")," "),c.Hb(8),c.Wc(" ",c.oc(37,14,"validations.required")," "),c.Hb(8),c.Wc(" ",c.oc(45,16,"validations.required")," "),c.Hb(7),c.vc("ngForOf",e.allroles),c.Hb(2),c.vc("value",e.falseValue)}}function D(e,t){1&e&&(c.ac(0,"mat-card",8),c.ac(1,"fieldset",9),c.ac(2,"legend",10),c.Uc(3,"Edit"),c.Zb(),c.ac(4,"form",26),c.ac(5,"div",12),c.ac(6,"div",13),c.ac(7,"mat-form-field"),c.ac(8,"mat-label"),c.Uc(9,"Title"),c.Zb(),c.Vb(10,"input",27),c.ac(11,"mat-error"),c.Uc(12),c.nc(13,"translate"),c.Zb(),c.Zb(),c.Zb(),c.ac(14,"div",16),c.ac(15,"mat-checkbox",28),c.Uc(16,"Read Service"),c.Zb(),c.ac(17,"mat-checkbox",28),c.Uc(18,"Write Service"),c.Zb(),c.ac(19,"mat-checkbox",28),c.Uc(20,"Read Products"),c.Zb(),c.ac(21,"mat-checkbox",28),c.Uc(22,"Write Products "),c.Zb(),c.ac(23,"mat-checkbox",28),c.Uc(24,"Read Calls"),c.Zb(),c.ac(25,"mat-checkbox",28),c.Uc(26,"Write Calls"),c.Zb(),c.Zb(),c.Zb(),c.ac(27,"button",29),c.Uc(28,"Update"),c.Zb(),c.Zb(),c.Zb(),c.Zb()),2&e&&(c.Hb(12),c.Wc(" ",c.oc(13,1,"validations.required")," "))}function I(e,t){1&e&&c.Uc(0),2&e&&c.Wc(" ",t.$implicit.name," ")}const F=function(){return[5,10,50,100]},z=[{path:"role",component:M},{path:"staff",component:(()=>{class e{constructor(e,t,a,o,l,r){this.remoteSrv=e,this.fb=t,this.cdr=a,this.userService=o,this.dialog=l,this.snackBar=r,this.toggleeditstaff=!0,this.columns=[{header:"Avatar",field:"staffimg",type:"image"},{header:"Name",field:"name",formatter:e=>`${e.firstname} ${e.lastname} `},{header:"Email",sortable:!0,field:"email"},{header:"Mobile",sortable:!0,field:"mobile"},{header:"Role",sortable:!0,field:"role.name"},{header:"Approved",field:"approvedstatus",type:"tag",tag:{true:{text:"Yes",color:"red-100"},false:{text:"No",color:"green-100"}}},{header:"Actions",field:"action",minWidth:120,width:"120px",pinned:"right",type:"button",buttons:[{type:"icon",icon:"edit",tooltip:"edit",click:e=>this.edit(e)},{color:"warn",icon:"delete",text:"delete",tooltip:"delete",pop:!0,popTitle:"Confirm Delete",popCloseText:"Cancel",popOkText:"Delete",click:e=>this.delete(e)}]}],this.list=[],this.total=0,this.isLoading=!0,this.multiSelectable=!0,this.rowSelectable=!0,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!0,this.showPaginator=!0,this.expandable=!1,this.columnResizable=!1,this.query={q:"user:nzbin",sort:"stars",order:"desc",page:0,per_page:10},this.falseValue="false",this.trueValue="true",this.addstaffform=this.fb.group({firstname:["",[i.y.required]],lastname:["",[i.y.required]],email:["",[i.y.required,i.y.email]],mobile:["",[i.y.required]],password:["",[i.y.required]],role:["",[i.y.required]],approvedstatus:[!1]})}get params(){const e=Object.assign({},this.query);return e.page+=1,e}ngOnInit(){this.getData(),this.getallroles(),this.getallstaff()}getData(){this.isLoading=!0,this.remoteSrv.getData(this.params).subscribe(e=>{this.total=e.total_count,this.isLoading=!1,this.cdr.detectChanges()},()=>{this.isLoading=!1,this.cdr.detectChanges()},()=>{this.isLoading=!1,this.cdr.detectChanges()})}edit(e){this.dialog.originalOpen(n.a,{width:"600px",data:{record:e}}).afterClosed().subscribe(()=>console.log("The dialog was closed"))}delete(e){this.dialog.alert(`You have deleted ${e.position}!`)}changeSelect(e){console.log(e)}changeSort(e){console.log(e)}getNextPage(e){this.query.page=e.pageIndex,this.query.per_page=e.pageSize,this.getData()}search(){this.query.page=0,this.getData()}editstaffchk(){console.log("button clicked"),this.toggleeditstaff=0==this.toggleeditstaff}enableRowExpandable(){this.columns[0].showExpand=this.expandable}checkboxChange(e,t){e.value=t?this.trueValue:this.falseValue,console.log(e.value)}getallroles(){this.userService.getallroles().subscribe(e=>{console.log(e),this.allroles=e.data},e=>{console.log(e)})}submitstaffForm(){console.log(this.addstaffform.value),this.userService.addstaff(this.addstaffform.value).subscribe(e=>{console.log(e),this.snackBar.open("Staff Added Successfully!","",{duration:2e3}),this.addstaffform.reset(),this.addstaffform.markAsUntouched(),console.log(this.addstaffform.getError),this.getallstaff()},e=>{console.log(e)})}getallstaff(){this.userService.getallstaff().subscribe(e=>{console.log("%cstaff.component.ts line:238 response","color: white; background-color: #007acc;",e),this.list=e.data,this.isLoading=!1},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(c.Ub(P),c.Ub(i.g),c.Ub(c.h),c.Ub(l.a),c.Ub(h.a),c.Ub(b.a))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-staff"]],features:[c.Gb([P])],decls:14,vars:24,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],["style","box-shadow: 2px 4px 14px rgb(0 0 0 / 28%);",4,"ngIf"],[1,"data-grid-options"],[3,"ngModel","ngModelChange"],[3,"data","columns","loading","columnResizable","multiSelectable","rowSelectable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","columnHideable","columnMovable","expandable","expansionTemplate","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","sortChange","selectionChange"],["expansionTpl",""],[2,"box-shadow","2px 4px 14px rgb(0 0 0 / 28%)"],[2,"padding","20px","border-radius","4px"],[2,"font-size","20px"],[1,"form-field-full",3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],["type","text","matInput","","placeholder","First Name","formControlName","firstname","required",""],["type","text","matInput","","placeholder","Last Name","formControlName","lastname","required",""],["fxFlex","100","fxFlex.lt-sm","100"],["type","text","matInput","","placeholder","Email","formControlName","email","required",""],["type","number","matInput","","placeholder","Mobile","formControlName","mobile","required",""],["type","password","matInput","","placeholder","Password","formControlName","password","required",""],["formControlName","role","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","approvedstatus",1,"st-chk",3,"value","change"],["mat-raised-button","","color","primary","type","submit",1,"m-t-8"],["mat-raised-button","","color","primary",1,"m-t-8","m-l-4",3,"click"],[3,"value"],[1,"form-field-full"],["matInput","","placeholder","Simple placeholder","formControlName","name","required",""],["value","true",1,"st-chk"],["mat-raised-button","","color","primary",1,"m-t-8"]],template:function(e,t){if(1&e&&(c.Vb(0,"page-header",0),c.ac(1,"section"),c.ac(2,"div",1),c.ac(3,"div",2),c.Sc(4,V,59,18,"mat-card",3),c.Sc(5,D,29,3,"mat-card",3),c.Zb(),c.ac(6,"div",2),c.ac(7,"mat-card"),c.ac(8,"div",4),c.ac(9,"mat-checkbox",5),c.ic("ngModelChange",function(e){return t.isLoading=e}),c.Uc(10,"Refresh"),c.Zb(),c.Zb(),c.ac(11,"mtx-grid",6),c.ic("sortChange",function(e){return t.changeSort(e)})("selectionChange",function(e){return t.changeSelect(e)}),c.Zb(),c.Zb(),c.Sc(12,I,1,1,"ng-template",null,7,c.Tc),c.Zb(),c.Zb(),c.Zb()),2&e){const e=c.Gc(13);c.Hb(4),c.vc("ngIf",t.toggleeditstaff),c.Hb(1),c.vc("ngIf",!t.toggleeditstaff),c.Hb(4),c.vc("ngModel",t.isLoading),c.Hb(2),c.vc("data",t.list)("columns",t.columns)("loading",t.isLoading)("columnResizable",t.columnResizable)("multiSelectable",t.multiSelectable)("rowSelectable",t.rowSelectable)("hideRowSelectionCheckbox",t.hideRowSelectionCheckbox)("rowHover",t.rowHover)("rowStriped",t.rowStriped)("showToolbar",t.showToolbar)("toolbarTitle","Data Grid Toolbar")("columnHideable",t.columnHideable)("columnMovable",t.columnMovable)("expandable",t.expandable)("expansionTemplate",e)("pageOnFront",t.showPaginator)("showPaginator",t.showPaginator)("pageSizeOptions",c.yc(23,F))("pageIndex",0)("pageSize",5)}},directives:[p.a,S.p,H.a,y.a,i.r,i.u,x.a,i.z,i.s,i.l,R.c,R.d,R.a,v.c,v.g,w.b,i.d,i.j,i.x,v.b,i.v,T.a,S.o,g.b,d.o,i.t],pipes:[m.d],styles:["[_nghost-%COMP%]     .mtx-grid{height:480px}.mat-header-cell[_ngcontent-%COMP%]{color:rgba(0,0,0,.54);font-size:14px!important}.st-chk[_ngcontent-%COMP%]{width:50%;float:left;padding:6px 0}"],changeDetection:0}),e})()}];let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Sb({type:e}),e.\u0275inj=c.Rb({imports:[[o.j.forChild(z)],o.j]}),e})();var A=a("M0ag");let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Sb({type:e}),e.\u0275inj=c.Rb({imports:[[A.c,E]]}),e})()}}]);