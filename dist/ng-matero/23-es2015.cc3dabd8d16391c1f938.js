(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{ExZ1:function(e,t,a){"use strict";a.r(t),a.d(t,"UserModule",function(){return $});var i=a("cDwd"),r=a("PCNd"),o=a("xdv0"),l=a("fXoL"),s=a("tyNb"),n=a("tgey"),c=a("XiUz"),d=a("Wp6s"),u=a("bTqV"),m=a("JX91"),b=a("lJxs"),p=a("3Pt+"),h=a("dNgK"),g=a("wZkO"),f=a("7EHt"),v=a("kmnG"),Z=a("qFsG"),U=a("ofXK"),y=a("/1cH"),x=a("iadO"),S=a("FKr1"),w=a("sYmb");function C(e,t){1&e&&(l.ac(0,"mat-error"),l.Uc(1),l.nc(2,"translate"),l.Zb()),2&e&&(l.Hb(1),l.Wc(" ",l.oc(2,1,"validations.required")," "))}function q(e,t){1&e&&(l.ac(0,"mat-error"),l.Uc(1),l.nc(2,"translate"),l.Zb()),2&e&&(l.Hb(1),l.Wc(" ",l.oc(2,1,"validations.required")," "))}function H(e,t){1&e&&(l.ac(0,"mat-error"),l.Uc(1),l.nc(2,"translate"),l.Zb()),2&e&&(l.Hb(1),l.Wc(" ",l.oc(2,1,"validations.required")," "))}function k(e,t){1&e&&(l.ac(0,"mat-error"),l.Uc(1),l.nc(2,"translate"),l.Zb()),2&e&&(l.Hb(1),l.Wc(" ",l.oc(2,1,"validations.required")," "))}function D(e,t){1&e&&(l.ac(0,"mat-error"),l.Uc(1),l.nc(2,"translate"),l.Zb()),2&e&&(l.Hb(1),l.Wc(" ",l.oc(2,1,"validations.required")," "))}function N(e,t){if(1&e&&(l.ac(0,"mat-option",43),l.Uc(1),l.Zb()),2&e){const e=t.$implicit;l.vc("value",e),l.Hb(1),l.Wc(" ",e," ")}}let I=(()=>{class e{constructor(e,t,a,i,r){this.fb=e,this.userService=t,this.route=a,this.snackBar=i,this.cdr=r,this.panelOpenState=!1,this.myControl=new p.h,this.options=[],this.msaapDisplayTitle=!0,this.msaapDisplayPlayList=!0,this.msaapPageSizeOptions=[100,200,500],this.msaapDisplayVolumeControls=!0,this.msaapDisplayRepeatControls=!0,this.msaapDisplayArtist=!0,this.msaapDisplayDuration=!0,this.msaapDisablePositionSlider=!0,this.msaapPlaylist1=[{title:"Welcome to Tel Internet",link:"http://103.8.43.14/onyx/assets/voicefiles/voicetechnetmax.wav",artist:"Voicetech admin",duration:12},{title:"Audio test",link:"https://www.computerhope.com/jargon/m/example.mp3",artist:"Voicetech admin",duration:4},{title:"Dailed Number Does not Exist",link:"http://103.8.43.14/onyx/assets/voicefiles/143.wav",artist:"Voicetech admin",duration:4},{title:"CDN Music",link:"https://cdn.plyr.io/static/demo/Kishi_Bashi_-_It_All_Began_With_a_Burst.mp3",artist:"Voicetech admin",duration:200}],this.msaapPlaylist=[],this.garray=[]}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe(Object(m.a)(""),Object(b.a)(e=>this._filter(e))),this.id=this.route.snapshot.params.id,console.log(this.id),this.getallnumbers(),this.getuserdetail(this.id),this.edituserform=this.fb.group({firstname:["",[p.y.required]],lastname:["",[p.y.required]],email:["",[p.y.required]],mobile:["",[p.y.required]],organization_name:["",[p.y.required]]}),this.getallrecordings()}_filter(e){const t=e.toLowerCase();return this.options.filter(e=>e.toLowerCase().includes(t))}getuserdetail(e){this.userService.userdetail(e).subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.userdetail=e.data},e=>{console.log(e)})}getErrorMessage(e){return e.get("firstname").hasError("required")||e.get("lastname").hasError("required")||e.get("email").hasError("required")?"validations.required":""}openedituser(){this.edituserform.setValue({firstname:this.userdetail.firstname?this.userdetail.firstname:"null",lastname:this.userdetail.lastname?this.userdetail.lastname:"null",email:this.userdetail.email?this.userdetail.email:"null",mobile:this.userdetail.mobile?this.userdetail.mobile:"null",organization_name:this.userdetail.organization_name?this.userdetail.organization_name:"null"})}submituserform(){console.log(this.edituserform.value),this.edituserform.valid?(console.log(this.edituserform.value),this.userService.edituser(this.id,this.edituserform.value).subscribe(e=>{console.log(e),this.snackBar.open("User Edited Successfully!","",{duration:2e3}),this.edituserform.reset()},e=>{console.log(e)})):this.getErrorMessage(this.edituserform)}cancelformaccordian(){this.panelOpenState=!1,console.log(this.panelOpenState)}isFieldValid(e){return!this.edituserform.get(e).valid&&this.edituserform.get(e).touched}onEnded(e){console.log(e)}getallnumbers(){this.userService.getalldstnumbers().subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e);const t=e.data,a=[];for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&a.push(t[i].did_no);this.options=a,this.cdr.detectChanges()},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}submitnumberform(){console.log(this.allotnumber.value)}getallrecordings(){this.userService.getrecordings().subscribe(e=>{console.log(null==e?void 0:e.message);for(let a=0;a<2665;a++)this.garray.push(null==e?void 0:e.message["2021-12-08"][a]);let t={};for(let a=0;a<this.garray.length;a++)t.title="Recording",t.link=this.garray[a],t.artist="Unknown",this.msaapPlaylist.push(t);console.log(this.msaapPlaylist)},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(p.g),l.Ub(o.a),l.Ub(s.a),l.Ub(h.a),l.Ub(l.h))},e.\u0275cmp=l.Ob({type:e,selectors:[["app-user-overview"]],decls:230,vars:33,consts:[[1,"m--16"],["label","Basic"],[1,"m-16"],["width","120px"],["href","mailto:userdetail?.email"],["href","tel:+91userdetail?.mobile"],[1,"row"],[1,"col-lg-3","text-center"],[1,"mat-elevation-z1"],[3,"expanded","opened"],[1,"f-w-500"],[2,"padding","20px","border-radius","4px"],[2,"font-size","20px"],[1,"form-field-full",3,"formGroup","ngSubmit"],[1,"demo-full-width","col-md-6"],["type","text","matInput","","placeholder","John","formControlName","firstname","required",""],[4,"ngIf"],["type","text","matInput","","placeholder","Deo","formControlName","lastname","required",""],[1,"col-lg-12","w-full"],[1,"w-full"],["type","email","matInput","","placeholder","example@gmail.com","formControlName","email","required",""],[1,"demo-full-width"],["type","number","matInput","","placeholder","9999999999","formControlName","mobile","required",""],["type","text","matInput","","placeholder","Voicetech","formControlName","organization_name","required",""],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["color","accent","type","button","mat-button","",1,"m-l-8",3,"click"],["type","text","placeholder","Pick one","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-button","","color","accent",3,"click"],["matInput","","placeholder","Date","readonly","",3,"matDatepicker","focus"],["picker",""],["label","Call logs"],["muted","muted",3,"playlist","displayTitle","autoPlay","displayPlaylist","pageSizeOptions","displayVolumeControls","displayRepeatControls","disablePositionSlider","displayArtist","displayDuration","expanded","trackEnded"],["label","Report"],[1,"col-md-4","bg-grey-100","text-center","align-middle"],[1,"mat-h2"],[1,"mat-display-4"],[1,"col-md-4"],[1,"col-md-12"],["label","Bill"],[3,"value"]],template:function(e,t){if(1&e){const e=l.bc();l.ac(0,"mat-card"),l.ac(1,"mat-tab-group",0),l.ac(2,"mat-tab",1),l.ac(3,"div",2),l.ac(4,"h3"),l.Uc(5,"Basic Details"),l.Zb(),l.ac(6,"table"),l.ac(7,"tbody"),l.ac(8,"tr"),l.ac(9,"td",3),l.ac(10,"strong"),l.Uc(11,"Name:"),l.Zb(),l.Zb(),l.ac(12,"td"),l.Uc(13),l.Zb(),l.Zb(),l.ac(14,"tr"),l.ac(15,"td",3),l.ac(16,"strong"),l.Uc(17,"Email:"),l.Zb(),l.Zb(),l.ac(18,"td"),l.ac(19,"a",4),l.Uc(20),l.Zb(),l.Zb(),l.Zb(),l.ac(21,"tr"),l.ac(22,"td",3),l.ac(23,"strong"),l.Uc(24,"Mobile:"),l.Zb(),l.Zb(),l.ac(25,"td"),l.ac(26,"a",5),l.Uc(27),l.Zb(),l.Zb(),l.Zb(),l.ac(28,"tr"),l.ac(29,"td",3),l.ac(30,"strong"),l.Uc(31,"Organization:"),l.Zb(),l.Zb(),l.ac(32,"td"),l.Uc(33),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Vb(34,"hr"),l.ac(35,"div",6),l.ac(36,"div",7),l.ac(37,"h4"),l.Uc(38,"Total Calls:"),l.Zb(),l.ac(39,"h2"),l.Uc(40,"57"),l.Zb(),l.Zb(),l.ac(41,"div",7),l.ac(42,"h4"),l.Uc(43,"Missed Calls:"),l.Zb(),l.ac(44,"h2"),l.Uc(45,"20"),l.Zb(),l.Zb(),l.ac(46,"div",7),l.ac(47,"h4"),l.Uc(48,"Received Calls:"),l.Zb(),l.ac(49,"h2"),l.Uc(50,"22"),l.Zb(),l.Zb(),l.ac(51,"div",7),l.ac(52,"h4"),l.Uc(53,"Falled Calls:"),l.Zb(),l.ac(54,"h2"),l.Uc(55,"7"),l.Zb(),l.Zb(),l.Zb(),l.Vb(56,"hr"),l.ac(57,"mat-accordion",8),l.ac(58,"mat-expansion-panel",9),l.ic("opened",function(){return t.setStep(0),t.openedituser()}),l.ac(59,"mat-expansion-panel-header"),l.ac(60,"mat-panel-title"),l.ac(61,"p",10),l.Uc(62,"Basic Details"),l.Zb(),l.Zb(),l.Vb(63,"mat-panel-description"),l.Zb(),l.ac(64,"fieldset",11),l.ac(65,"legend",12),l.Uc(66,"Edit Basic Details"),l.Zb(),l.ac(67,"form",13),l.ic("ngSubmit",function(){return t.submituserform()}),l.ac(68,"div",6),l.ac(69,"mat-form-field",14),l.ac(70,"mat-label"),l.Uc(71,"First Name"),l.Zb(),l.Vb(72,"input",15),l.Sc(73,C,3,3,"mat-error",16),l.Zb(),l.ac(74,"mat-form-field",14),l.ac(75,"mat-label"),l.Uc(76,"Last Name"),l.Zb(),l.Vb(77,"input",17),l.Sc(78,q,3,3,"mat-error",16),l.Zb(),l.ac(79,"div",18),l.ac(80,"mat-form-field",19),l.ac(81,"mat-label"),l.Uc(82,"Email"),l.Zb(),l.Vb(83,"input",20),l.Sc(84,H,3,3,"mat-error",16),l.Zb(),l.Zb(),l.ac(85,"div",18),l.ac(86,"mat-form-field",21),l.ac(87,"mat-label"),l.Uc(88,"Mobile"),l.Zb(),l.Vb(89,"input",22),l.Sc(90,k,3,3,"mat-error",16),l.Zb(),l.Zb(),l.ac(91,"div",18),l.ac(92,"mat-form-field",21),l.ac(93,"mat-label"),l.Uc(94,"Organization Name"),l.Zb(),l.Vb(95,"input",23),l.Sc(96,D,3,3,"mat-error",16),l.Zb(),l.Zb(),l.Zb(),l.ac(97,"button",24),l.Uc(98," Submit "),l.Zb(),l.ac(99,"button",25),l.ic("click",function(){return t.nextStep()}),l.Uc(100,"Next"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.ac(101,"mat-expansion-panel",9),l.ic("opened",function(){return t.setStep(1)}),l.ac(102,"mat-expansion-panel-header"),l.ac(103,"mat-panel-title"),l.ac(104,"p",10),l.Uc(105,"Numbers"),l.Zb(),l.Zb(),l.Zb(),l.ac(106,"fieldset",11),l.ac(107,"legend",12),l.Uc(108,"Edit Numbers"),l.Zb(),l.ac(109,"form",13),l.ic("ngSubmit",function(){return t.submitnumberform()}),l.ac(110,"mat-form-field",19),l.ac(111,"mat-label"),l.Uc(112,"Number"),l.Zb(),l.Vb(113,"input",26),l.ac(114,"mat-autocomplete",null,27),l.Sc(116,N,2,2,"mat-option",28),l.nc(117,"async"),l.Zb(),l.Zb(),l.ac(118,"button",29),l.ic("click",function(){return t.prevStep()}),l.Uc(119,"Previous"),l.Zb(),l.ac(120,"button",30),l.ic("click",function(){return t.nextStep()}),l.Uc(121,"Submit"),l.Zb(),l.ac(122,"button",31),l.ic("click",function(){return t.nextStep()}),l.Uc(123,"Next"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.ac(124,"mat-expansion-panel",9),l.ic("opened",function(){return t.setStep(2)}),l.ac(125,"mat-expansion-panel-header"),l.ac(126,"mat-panel-title"),l.ac(127,"p",10),l.Uc(128,"Other Details"),l.Zb(),l.Zb(),l.Zb(),l.ac(129,"fieldset",11),l.ac(130,"legend",12),l.Uc(131,"Edit Numbers"),l.Zb(),l.ac(132,"mat-form-field"),l.ac(133,"input",32),l.ic("focus",function(){return l.Jc(e),l.Gc(135).open()}),l.Zb(),l.Zb(),l.Vb(134,"mat-datepicker",null,33),l.ac(136,"mat-action-row"),l.ac(137,"button",29),l.ic("click",function(){return t.prevStep()}),l.Uc(138,"Previous"),l.Zb(),l.ac(139,"button",30),l.ic("click",function(){return t.nextStep()}),l.Uc(140,"Submit"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.ac(141,"mat-tab",34),l.ac(142,"div",2),l.ac(143,"ngx-audio-player",35),l.ic("trackEnded",function(e){return t.onEnded(e)}),l.Zb(),l.Zb(),l.Zb(),l.ac(144,"mat-tab",36),l.ac(145,"div",2),l.ac(146,"h3"),l.Uc(147,"Reports"),l.Zb(),l.Vb(148,"hr"),l.ac(149,"h4"),l.Uc(150,"Outgoing Calls Report"),l.Zb(),l.ac(151,"div",6),l.ac(152,"div",37),l.ac(153,"p",38),l.Uc(154,"Outgoing Calls"),l.Zb(),l.ac(155,"p",39),l.Uc(156,"120"),l.Zb(),l.Zb(),l.ac(157,"div",40),l.ac(158,"div",6),l.ac(159,"div",41),l.ac(160,"p",38),l.Uc(161,"Calls Connected"),l.Zb(),l.ac(162,"h1"),l.Uc(163,"70"),l.Zb(),l.Zb(),l.Zb(),l.ac(164,"div",6),l.ac(165,"div",41),l.ac(166,"p",38),l.Uc(167,"Calls Rejected"),l.Zb(),l.ac(168,"h1"),l.Uc(169,"70"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.ac(170,"div",40),l.ac(171,"div",6),l.ac(172,"div",41),l.ac(173,"p",38),l.Uc(174,"Calls Missed"),l.Zb(),l.ac(175,"h1"),l.Uc(176,"70"),l.Zb(),l.Zb(),l.Zb(),l.ac(177,"div",6),l.ac(178,"div",41),l.ac(179,"p",38),l.Uc(180,"Calls Rejected"),l.Zb(),l.ac(181,"h1"),l.Uc(182,"70"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Vb(183,"hr"),l.ac(184,"h4"),l.Uc(185,"Incoming Calls Report"),l.Zb(),l.ac(186,"div",6),l.ac(187,"div",37),l.ac(188,"p",38),l.Uc(189,"Incoming Calls"),l.Zb(),l.ac(190,"p",39),l.Uc(191,"57"),l.Zb(),l.Zb(),l.ac(192,"div",40),l.ac(193,"div",6),l.ac(194,"div",41),l.ac(195,"p",38),l.Uc(196,"Calls Connected"),l.Zb(),l.ac(197,"h1"),l.Uc(198,"11"),l.Zb(),l.Zb(),l.Zb(),l.ac(199,"div",6),l.ac(200,"div",41),l.ac(201,"p",38),l.Uc(202,"Calls Rejected"),l.Zb(),l.ac(203,"h1"),l.Uc(204,"12"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.ac(205,"div",40),l.ac(206,"div",6),l.ac(207,"div",41),l.ac(208,"p",38),l.Uc(209,"Calls Missed"),l.Zb(),l.ac(210,"h1"),l.Uc(211,"10"),l.Zb(),l.Zb(),l.Zb(),l.ac(212,"div",6),l.ac(213,"div",41),l.ac(214,"p",38),l.Uc(215,"Calls Rejected"),l.Zb(),l.ac(216,"h1"),l.Uc(217,"70"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.ac(218,"mat-tab",42),l.ac(219,"div",2),l.ac(220,"h3"),l.Uc(221,"Payment Summary"),l.Zb(),l.ac(222,"p",38),l.Uc(223,"Payment summary"),l.Zb(),l.ac(224,"p"),l.Uc(225," Morbi placerat est nec pharetra placerat. Ut laoreet nunc accumsan orci aliquam accumsan. Maecenas volutpat dolor vitae sapien ultricies fringilla. Suspendisse vitae orci sed nibh ultrices tristique. Aenean in ante eget urna semper imperdiet. Pellentesque sagittis a nulla at scelerisque. Nam augue nulla, accumsan quis nisi a, facilisis eleifend nulla. Praesent aliquet odio non imperdiet fringilla. "),l.Zb(),l.ac(226,"p"),l.Uc(227," Morbi placerat est nec pharetra placerat. Ut laoreet nunc accumsan orci aliquam accumsan. Maecenas volutpat dolor vitae sapien ultricies fringilla. Suspendisse vitae orci sed nibh ultrices tristique. Aenean in ante eget urna semper imperdiet. Pellentesque sagittis a nulla at scelerisque. Nam augue nulla, accumsan quis nisi a, facilisis eleifend nulla. Praesent aliquet odio non imperdiet fringilla. "),l.Zb(),l.ac(228,"p"),l.Uc(229," Morbi placerat est nec pharetra placerat. Ut laoreet nunc accumsan orci aliquam accumsan. Maecenas volutpat dolor vitae sapien ultricies fringilla. Suspendisse vitae orci sed nibh ultrices tristique. Aenean in ante eget urna semper imperdiet. Pellentesque sagittis a nulla at scelerisque. Nam augue nulla, accumsan quis nisi a, facilisis eleifend nulla. Praesent aliquet odio non imperdiet fringilla. "),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.Zb()}if(2&e){const e=l.Gc(115),a=l.Gc(135);l.Hb(13),l.Xc("",null==t.userdetail?null:t.userdetail.firstname," ",null==t.userdetail?null:t.userdetail.lastname,""),l.Hb(7),l.Wc(" ",null==t.userdetail?null:t.userdetail.email,""),l.Hb(7),l.Wc(" ",null==t.userdetail?null:t.userdetail.mobile,""),l.Hb(6),l.Vc(null==t.userdetail?null:t.userdetail.organization_name),l.Hb(25),l.vc("expanded",0===t.step),l.Hb(9),l.vc("formGroup",t.edituserform),l.Hb(6),l.vc("ngIf",t.edituserform.get("firstname").invalid),l.Hb(5),l.vc("ngIf",t.edituserform.get("lastname").invalid),l.Hb(6),l.vc("ngIf",t.edituserform.get("email").invalid),l.Hb(6),l.vc("ngIf",t.edituserform.get("mobile").invalid),l.Hb(6),l.vc("ngIf",t.edituserform.get("organization_name").invalid),l.Hb(1),l.vc("disabled",t.edituserform.invalid),l.Hb(4),l.vc("expanded",1===t.step),l.Hb(8),l.vc("formGroup",t.allotnumber),l.Hb(4),l.vc("formControl",t.myControl)("matAutocomplete",e),l.Hb(3),l.vc("ngForOf",l.oc(117,31,t.filteredOptions)),l.Hb(8),l.vc("expanded",2===t.step),l.Hb(9),l.vc("matDatepicker",a),l.Hb(10),l.vc("playlist",t.msaapPlaylist)("displayTitle",t.msaapDisplayTitle)("autoPlay",!0)("displayPlaylist",t.msaapDisplayPlayList)("pageSizeOptions",t.msaapPageSizeOptions)("displayVolumeControls",t.msaapDisplayVolumeControls)("displayRepeatControls",t.msaapDisplayRepeatControls)("disablePositionSlider",t.msaapDisablePositionSlider)("displayArtist",t.msaapDisplayArtist)("displayDuration",t.msaapDisplayDuration)("expanded",!0)}},directives:[d.a,g.b,g.a,f.a,f.c,f.f,f.g,f.e,p.z,p.s,p.l,v.c,v.g,Z.b,p.d,p.r,p.j,p.x,U.p,p.v,u.b,y.c,p.i,y.a,U.o,x.c,x.b,f.d,i.a,v.b,S.o],pipes:[U.b,w.d],styles:[""]}),e})(),P=(()=>{class e{constructor(e,t){this.userService=e,this.route=t}ngOnInit(){this.id=this.route.snapshot.params.id,console.log(this.id),this.getuserdetail(this.id)}getuserdetail(e){this.userService.userdetail(e).subscribe(e=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",e),this.userdetail=e.data},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(o.a),l.Ub(s.a))},e.\u0275cmp=l.Ob({type:e,selectors:[["app-user-detail"]],decls:18,vars:7,consts:[["title","User Profile","hideBreadcrumb","",1,"p-t-32","p-b-48","m-b--24","bg-gray-900"],["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.gt-xs","50","fxFlex.gt-sm","33.33","fxFlex.gt-md","25",1,"matero-col"],[1,"text-center"],["alt","","width","200",1,"m-b-8","r-full",3,"src"],[1,"m-t-0","m-b-8","f-w-400"],[1,"m-t-0","m-b-8"],[1,"m-t-0","text-grey-500"],["mat-raised-button","","color","primary","routerLink","/chat"],["mat-raised-button","","color","accent",1,"m-l-8"],["fxFlex","100","fxFlex.gt-xs","50","fxFlex.gt-sm","66.67","fxFlex.gt-md","75",1,"matero-col"]],template:function(e,t){1&e&&(l.Vb(0,"page-header",0),l.ac(1,"div",1),l.ac(2,"div",2),l.ac(3,"mat-card"),l.ac(4,"div",3),l.Vb(5,"img",4),l.ac(6,"h2",5),l.Uc(7),l.Zb(),l.ac(8,"p",6),l.Uc(9),l.Zb(),l.ac(10,"p",7),l.Uc(11),l.Zb(),l.ac(12,"a",8),l.Uc(13,"Chat"),l.Zb(),l.ac(14,"button",9),l.Uc(15,"Call Now"),l.Zb(),l.Zb(),l.Zb(),l.Zb(),l.ac(16,"div",10),l.Vb(17,"app-user-overview"),l.Zb(),l.Zb()),2&e&&(l.Hb(5),l.vc("src",null==t.userdetail?null:t.userdetail.userimg,l.Lc),l.Hb(2),l.Xc("",null==t.userdetail?null:t.userdetail.firstname," ",null==t.userdetail?null:t.userdetail.lastname,""),l.Hb(2),l.Xc("",null==t.userdetail?null:t.userdetail.email," | ",null==t.userdetail?null:t.userdetail.mobile," "),l.Hb(2),l.Xc("",null==t.userdetail?null:t.userdetail.organization_name," | ",null==t.userdetail?null:t.userdetail.companyName,""))},directives:[n.a,c.c,c.a,d.a,u.a,s.i,u.b,I],styles:[""]}),e})();var V=a("0IaG"),z=a("r0g6"),O=a("qSrz"),E=a("hGDI"),M=a("NFeN");function R(e,t){if(1&e){const e=l.bc();l.ac(0,"button",5),l.ic("click",function(){return l.Jc(e),l.mc().openAddDstNumber()}),l.ac(1,"mat-icon"),l.Uc(2,"add"),l.Zb(),l.Uc(3,"Add User "),l.Zb(),l.ac(4,"input",6),l.ic("ngModelChange",function(t){return l.Jc(e),l.mc().filterSearch=t})("ngModelChange",function(t){return l.Jc(e),l.mc().searchData(t)}),l.Zb()}if(2&e){const e=l.mc();l.Hb(4),l.vc("ngModel",e.filterSearch)}}const _=function(){return[50,100,200,500]};function A(e,t){1&e&&(l.ac(0,"mat-error"),l.Uc(1),l.nc(2,"translate"),l.Zb()),2&e&&(l.Hb(1),l.Wc(" ",l.oc(2,1,"validations.required")," "))}function L(e,t){1&e&&(l.ac(0,"mat-error"),l.Uc(1),l.nc(2,"translate"),l.Zb()),2&e&&(l.Hb(1),l.Wc(" ",l.oc(2,1,"validations.required")," "))}function F(e,t){1&e&&(l.ac(0,"mat-error"),l.Uc(1),l.nc(2,"translate"),l.Zb()),2&e&&(l.Hb(1),l.Wc(" ",l.oc(2,1,"validations.required")," "))}function T(e,t){1&e&&(l.ac(0,"mat-error"),l.Uc(1),l.nc(2,"translate"),l.Zb()),2&e&&(l.Hb(1),l.Wc(" ",l.oc(2,1,"validations.required")," "))}function W(e,t){1&e&&(l.ac(0,"mat-error"),l.Uc(1),l.nc(2,"translate"),l.Zb()),2&e&&(l.Hb(1),l.Wc(" ",l.oc(2,1,"validations.required")," "))}function j(e,t){1&e&&(l.ac(0,"mat-error"),l.Uc(1),l.nc(2,"translate"),l.Zb()),2&e&&(l.Hb(1),l.Wc(" ",l.oc(2,1,"validations.required")," "))}let G=(()=>{class e{constructor(e,t,a,i,r,o,l){this.dialog=e,this.dialogx=t,this.userService=a,this.cdr=i,this.router=r,this.rolesSrv=o,this.permissonsSrv=l,this.columns=[],this.list=[],this.total=0,this.multiSelectable=!0,this.rowSelectable=!0,this.hideRowSelectionCheckbox=!1,this.showToolbar=!0,this.columnHideable=!0,this.columnMovable=!0,this.rowHover=!0,this.rowStriped=!0,this.showPaginator=!0,this.expandable=!0,this.columnResizable=!1}ngOnInit(){this.getallusers(),console.log(this.rolesSrv.getRoles()),console.log(this.permissonsSrv.getPermissions()),this.columns=[{header:"Avatar",field:"userimg",type:"image"},{header:"Name",sortable:!0,field:"firstname",formatter:e=>`<a routerLink="/${e._id}"> ${e.firstname} ${e.lastname}</a>`,width:"150px"},{header:"Mobile",sortable:!0,field:"mobile"},{header:"Email",sortable:!0,field:"email"},{header:"Organization",sortable:!0,field:"organization_name"},{header:"DID Number",sortable:!0,field:"alloted_did.did_no"},{header:"Created Date",sortable:!0,field:"createdAt"},{header:"Actions",field:"action",minWidth:180,width:"180px",pinned:"right",type:"button",buttons:[{type:"icon",color:"primary",icon:"visibility",tooltip:"view",click:e=>this.router.navigate(["user/user-detail",e._id])},{type:"icon",color:"accent",icon:"edit",tooltip:"edit",click:e=>this.edit(e)},{color:"warn",icon:"delete",text:"delete",tooltip:"delete",pop:!0,popTitle:"Confirm Delete",popCloseText:"Cancel",popOkText:"Delete",click:e=>this.delete(e)}]}]}changeSort(e){console.log(e)}changeSelect(e){console.log(e)}getallusers(){this.userService.allusers().subscribe(e=>{console.log("%cusers.component.ts line:54 response","color: #26bfa5;",e),this.list=e.data,this.total=e.data.length,this.isLoading=!1,this.cdr.detectChanges()},e=>{console.log("%cerror users.component.ts line:62 ","color: red; display: block; width: 100%;",e)})}edit(e){this.dialog.open(B,{width:"500px",data:{record:e}}).afterClosed().subscribe(()=>{console.log("The edit dailog closed"),this.getallusers()})}delete(e){this.userService.deleteuser(e._id).subscribe(t=>{console.log("%cips.component.ts line:248 response","color: #26bfa5;",t),this.isLoading=!1,this.getallusers(),this.cdr.detectChanges(),this.dialogx.alert(`You have deleted ${e.firstname} ${e.lastname}!`)},e=>{console.log("%cerror ips.component.ts line:254 ","color: red; display: block; width: 100%;",e)})}openAddDstNumber(){this.dialog.open(B,{width:"500px"}).afterClosed().subscribe(()=>{this.getallusers(),this.getallusers(),this.getallusers()})}searchData(e){e?this.filteredData=this.list.filter(t=>t.firstname.toLowerCase().includes(e.toLowerCase())||t.lastname.toLowerCase().includes(e.toLowerCase())||t.email.toLowerCase().includes(e.toLowerCase())||t.organization_name.toLowerCase().includes(e.toLowerCase())):(this.filteredData=null,this.getallusers())}ngAfterViewInit(){this.isLoading=!0}pagechange(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(V.c),l.Ub(z.a),l.Ub(o.a),l.Ub(l.h),l.Ub(s.f),l.Ub(O.e),l.Ub(O.d))},e.\u0275cmp=l.Ob({type:e,selectors:[["app-users"]],decls:6,vars:19,consts:[[1,"bg-blue-600"],[1,"row"],[1,"col-lg-12"],[1,"mat-elevation-z8","r-4",3,"data","columns","loading","columnResizable","hideRowSelectionCheckbox","rowHover","rowStriped","showToolbar","toolbarTitle","toolbarTemplate","columnHideable","columnMovable","expandable","pageOnFront","showPaginator","pageSizeOptions","pageIndex","pageSize","page","sortChange","selectionChange"],["toolbarTpl",""],["mat-stroked-button","","color","primary",3,"click"],["placeholder","Start typing","type","text","autocomplete","off",1,"form-control",2,"padding","5px","margin","0px 2px","border","1px solid #d7d7d7","line-height","24px","border-radius","4px",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(l.Vb(0,"page-header",0),l.ac(1,"div",1),l.ac(2,"div",2),l.ac(3,"mtx-grid",3),l.ic("page",function(e){return t.pagechange(e)})("sortChange",function(e){return t.changeSort(e)})("selectionChange",function(e){return t.changeSelect(e)}),l.Zb(),l.Sc(4,R,5,1,"ng-template",null,4,l.Tc),l.Zb(),l.Zb()),2&e){const e=l.Gc(5);l.Hb(3),l.vc("data",t.filteredData||t.list)("columns",t.columns)("loading",t.isLoading)("columnResizable",t.columnResizable)("hideRowSelectionCheckbox",t.hideRowSelectionCheckbox)("rowHover",t.rowHover)("rowStriped",t.rowStriped)("showToolbar",t.showToolbar)("toolbarTitle","Users")("toolbarTemplate",e)("columnHideable",t.columnHideable)("columnMovable",t.columnMovable)("expandable",t.expandable)("pageOnFront",t.showPaginator)("showPaginator",t.showPaginator)("pageSizeOptions",l.yc(18,_))("pageIndex",0)("pageSize",50)}},directives:[n.a,E.a,u.b,M.a,p.d,p.r,p.u],styles:[""],changeDetection:0}),e})(),B=(()=>{class e{constructor(e,t,a,i,r){var o,l,s,n,c,d,u,m,b,h,g,f,v,Z,U,y,x,S,w,C,q,H,k,D,N,I;this.fb=e,this.userService=t,this.snackBar=a,this.dialogRef=i,this.data=r,this.editmode=!1,this.adduserform=this.fb.group({firstname:["",[p.y.required]],lastname:["",[p.y.required]],email:["",[p.y.required]],mobile:["",[p.y.required]],password:["",[p.y.required]],organization_name:["",[p.y.required]]}),r&&(console.log(r),this.editmode=!0,this.id=null===(l=null===(o=this.data)||void 0===o?void 0:o.record)||void 0===l?void 0:l._id,this.adduserform.setValue({firstname:(null===(n=null===(s=this.data)||void 0===s?void 0:s.record)||void 0===n?void 0:n.firstname)?null===(d=null===(c=this.data)||void 0===c?void 0:c.record)||void 0===d?void 0:d.firstname:"null",lastname:(null===(m=null===(u=this.data)||void 0===u?void 0:u.record)||void 0===m?void 0:m.lastname)?null===(h=null===(b=this.data)||void 0===b?void 0:b.record)||void 0===h?void 0:h.lastname:"null",email:(null===(f=null===(g=this.data)||void 0===g?void 0:g.record)||void 0===f?void 0:f.email)?null===(Z=null===(v=this.data)||void 0===v?void 0:v.record)||void 0===Z?void 0:Z.email:"null",mobile:(null===(y=null===(U=this.data)||void 0===U?void 0:U.record)||void 0===y?void 0:y.mobile)?null===(S=null===(x=this.data)||void 0===x?void 0:x.record)||void 0===S?void 0:S.mobile:"null",password:(null===(C=null===(w=this.data)||void 0===w?void 0:w.record)||void 0===C?void 0:C.password)?null===(H=null===(q=this.data)||void 0===q?void 0:q.record)||void 0===H?void 0:H.password:"null",organization_name:(null===(D=null===(k=this.data)||void 0===k?void 0:k.record)||void 0===D?void 0:D.organization_name)?null===(I=null===(N=this.data)||void 0===N?void 0:N.record)||void 0===I?void 0:I.organization_name:"null"}))}ngOnInit(){}getErrorMessage(e){return e.get("firstname").hasError("required")||e.get("lastname").hasError("required")||e.get("email").hasError("required")?"validations.required":""}isFieldValid(e){return!this.adduserform.get(e).valid&&this.adduserform.get(e).touched}submituserform(){this.editmode?(console.log(this.adduserform.value),this.userService.edituser(this.id,this.adduserform.value).subscribe(e=>{console.log(e),this.snackBar.open("User Edited Successfully!","",{duration:2e3}),this.adduserform.reset()},e=>{console.log(e)})):this.adduserform.valid?(console.log(this.adduserform.value),this.userService.usersignup(this.adduserform.value).subscribe(e=>{console.log(e),this.snackBar.open("User Added Successfully!","",{duration:2e3}),this.adduserform.reset()},e=>{console.log(e)})):this.getErrorMessage(this.adduserform)}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(p.g),l.Ub(o.a),l.Ub(h.a),l.Ub(V.i),l.Ub(V.a))},e.\u0275cmp=l.Ob({type:e,selectors:[["add-user-form"]],decls:44,vars:9,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],[1,"demo-full-width"],["type","text","matInput","","placeholder","John","formControlName","firstname","required",""],[4,"ngIf"],["type","text","matInput","","placeholder","Deo","formControlName","lastname","required",""],["type","email","matInput","","placeholder","example@gmail.com","formControlName","email","required",""],["type","number","matInput","","placeholder","9999999999","formControlName","mobile","required",""],["matSuffix",""],["type","password","matInput","","formControlName","password","required",""],["type","text","matInput","","placeholder","Voicetech","formControlName","organization_name","required",""],["mat-raised-button","","mat-dialog-close","","cdkFocusInitial",""],["mat-raised-button","","mat-dialog-close","","color","primary","type","submit",3,"disabled"]],template:function(e,t){1&e&&(l.ac(0,"h2",0),l.Uc(1),l.Zb(),l.ac(2,"form",1),l.ic("ngSubmit",function(){return t.submituserform()}),l.ac(3,"mat-dialog-content"),l.ac(4,"div",2),l.ac(5,"div",3),l.ac(6,"mat-form-field",4),l.ac(7,"mat-label"),l.Uc(8,"First Name"),l.Zb(),l.Vb(9,"input",5),l.Sc(10,A,3,3,"mat-error",6),l.Zb(),l.Zb(),l.ac(11,"div",3),l.ac(12,"mat-form-field",4),l.ac(13,"mat-label"),l.Uc(14,"Last Name"),l.Zb(),l.Vb(15,"input",7),l.Sc(16,L,3,3,"mat-error",6),l.Zb(),l.Zb(),l.ac(17,"mat-form-field",4),l.ac(18,"mat-label"),l.Uc(19,"Email"),l.Zb(),l.Vb(20,"input",8),l.Sc(21,F,3,3,"mat-error",6),l.Zb(),l.ac(22,"mat-form-field",4),l.ac(23,"mat-label"),l.Uc(24,"Mobile"),l.Zb(),l.Vb(25,"input",9),l.ac(26,"mat-icon",10),l.Uc(27,"smartphone"),l.Zb(),l.Sc(28,T,3,3,"mat-error",6),l.Zb(),l.ac(29,"mat-form-field",4),l.ac(30,"mat-label"),l.Uc(31,"Password"),l.Zb(),l.Vb(32,"input",11),l.Sc(33,W,3,3,"mat-error",6),l.Zb(),l.ac(34,"mat-form-field",4),l.ac(35,"mat-label"),l.Uc(36,"Organization Name"),l.Zb(),l.Vb(37,"input",12),l.Sc(38,j,3,3,"mat-error",6),l.Zb(),l.Zb(),l.Zb(),l.ac(39,"mat-dialog-actions"),l.ac(40,"button",13),l.Uc(41,"Cancel"),l.Zb(),l.ac(42,"button",14),l.Uc(43," Submit "),l.Zb(),l.Zb(),l.Zb()),2&e&&(l.Hb(1),l.Vc(t.editmode?"Edit User":"Add User"),l.Hb(1),l.vc("formGroup",t.adduserform),l.Hb(8),l.vc("ngIf",t.adduserform.get("firstname").invalid),l.Hb(6),l.vc("ngIf",t.adduserform.get("lastname").invalid),l.Hb(5),l.vc("ngIf",t.adduserform.get("email").invalid),l.Hb(7),l.vc("ngIf",t.adduserform.get("mobile").invalid),l.Hb(5),l.vc("ngIf",t.adduserform.get("password").invalid),l.Hb(5),l.vc("ngIf",t.adduserform.get("organization_name").invalid),l.Hb(4),l.vc("disabled",t.adduserform.invalid))},directives:[V.j,p.z,p.s,p.l,V.g,c.c,c.d,c.a,v.c,v.g,Z.b,p.d,p.r,p.j,p.x,U.p,p.v,M.a,v.j,V.d,u.b,V.e,v.b],pipes:[w.d],styles:[".demo-full-width[_ngcontent-%COMP%] {\n        width: 100%;\n      }"]}),e})();const J=[{path:"users",component:G,data:{permissions:{only:["SUPERADMIN","ADMIN","MANAGER","RESELLER"],redirectTo:"/dashboard"}}},{path:"user-detail/:id",component:P,data:{permissions:{only:["SUPERADMIN","ADMIN","MANAGER","RESELLER"],redirectTo:"/dashboard"}}}];let X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Sb({type:e}),e.\u0275inj=l.Rb({imports:[[s.j.forChild(J)],s.j]}),e})();a("d3UM");let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Sb({type:e}),e.\u0275inj=l.Rb({imports:[[r.a,X,i.b]]}),e})()}}]);